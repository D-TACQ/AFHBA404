\hypertarget{afhba-llcontrol_8c}{}\doxysection{A\+C\+Q\+P\+R\+O\+C/afhba-\/llcontrol.c File Reference}
\label{afhba-llcontrol_8c}\index{ACQPROC/afhba-\/llcontrol.c@{ACQPROC/afhba-\/llcontrol.c}}


device driver memory mapping interface.  


{\ttfamily \#include $<$sched.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$sys/ioctl.\+h$>$}\newline
{\ttfamily \#include $<$sys/mman.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include \char`\"{}afhba-\/llcontrol.\+h\char`\"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a369266c24eacffb87046522897a570d5}{\+\_\+\+G\+N\+U\+\_\+\+S\+O\+U\+R\+CE}}
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a8092b26ebfae1da4b21e114c4f8439c1}{H\+B\+\_\+\+F\+I\+LE}}~\char`\"{}/dev/rtm-\/t.\%lu\char`\"{}
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a69d4676733f5e850f451942b6d901382}{L\+O\+G\+\_\+\+F\+I\+LE}}~\char`\"{}afhba.\%d.\+log\char`\"{}
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a05ec500a756f7eaa138f7bc3a68a03af}{H\+B1}}~\char`\"{}/dev/rtm-\/t.\%d.\+data/hb01\char`\"{}
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a25d64114c334056badd79ecd6862f9e5}{H\+B\+\_\+\+L\+EN}}~0x100000		/$\ast$ 1MB H\+O\+ST B\+U\+F\+F\+E\+R\+SW $\ast$/
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a06c201f90533d5b49cd039c960327968}{NS}}~1000000000
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a89f9bd364d17d48182d34357c3508d05}{US}}~1000000
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_a3f02d7ec97f4f63aff0838447ab471d0}{N\+S\+US}}~(\mbox{\hyperlink{afhba-llcontrol_8c_a06c201f90533d5b49cd039c960327968}{NS}}/\mbox{\hyperlink{afhba-llcontrol_8c_a89f9bd364d17d48182d34357c3508d05}{US}})
\item 
\#define \mbox{\hyperlink{afhba-llcontrol_8c_aa773acf74a8662f592f2b20768bbc7f3}{D\+E\+F\+\_\+\+N\+C\+H\+AN}}~16
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned \mbox{\hyperlink{afhba-llcontrol_8c_a2d7bfa09e3bee0f30351dde8d4f940e1}{difftime\+\_\+us}} (void)
\item 
void $\ast$ \mbox{\hyperlink{afhba-llcontrol_8c_a5360620f54683c9cca00e2bdbb9350f9}{get\+\_\+mapping}} (dev\+\_\+t devnum, int $\ast$pfd)
\item 
void \mbox{\hyperlink{afhba-llcontrol_8c_a61090d96e182bfa12227cf0819272e74}{clear\+\_\+mapping}} (int fd, void $\ast$hb)
\item 
void \mbox{\hyperlink{afhba-llcontrol_8c_a0e19f97ee13d3ece358463de98f28b89}{set\+Affinity}} (unsigned cpu\+\_\+mask)
\item 
void \mbox{\hyperlink{afhba-llcontrol_8c_a502f7a17377a31f5ee1aef6b13c8ee62}{go\+Real\+Time}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{afhba-llcontrol_8c_a19f74309ef48bc5d165c6afc335ed04f}{nchan}} = \mbox{\hyperlink{afhba-llcontrol_8c_aa773acf74a8662f592f2b20768bbc7f3}{D\+E\+F\+\_\+\+N\+C\+H\+AN}}
\item 
int \mbox{\hyperlink{afhba-llcontrol_8c_ad80a87ab088210eecdb985e6b14e85d6}{spadlongs}} = 16
\item 
int \mbox{\hyperlink{afhba-llcontrol_8c_a52d07f959b74576585992cde0d113c27}{sched\+\_\+fifo\+\_\+priority}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
device driver memory mapping interface. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{afhba-llcontrol_8c_a369266c24eacffb87046522897a570d5}\label{afhba-llcontrol_8c_a369266c24eacffb87046522897a570d5}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!\_GNU\_SOURCE@{\_GNU\_SOURCE}}
\index{\_GNU\_SOURCE@{\_GNU\_SOURCE}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{\_GNU\_SOURCE}{\_GNU\_SOURCE}}
{\footnotesize\ttfamily \#define \+\_\+\+G\+N\+U\+\_\+\+S\+O\+U\+R\+CE}

\mbox{\Hypertarget{afhba-llcontrol_8c_aa773acf74a8662f592f2b20768bbc7f3}\label{afhba-llcontrol_8c_aa773acf74a8662f592f2b20768bbc7f3}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!DEF\_NCHAN@{DEF\_NCHAN}}
\index{DEF\_NCHAN@{DEF\_NCHAN}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{DEF\_NCHAN}{DEF\_NCHAN}}
{\footnotesize\ttfamily \#define D\+E\+F\+\_\+\+N\+C\+H\+AN~16}

\mbox{\Hypertarget{afhba-llcontrol_8c_a05ec500a756f7eaa138f7bc3a68a03af}\label{afhba-llcontrol_8c_a05ec500a756f7eaa138f7bc3a68a03af}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!HB1@{HB1}}
\index{HB1@{HB1}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{HB1}{HB1}}
{\footnotesize\ttfamily \#define H\+B1~\char`\"{}/dev/rtm-\/t.\%d.\+data/hb01\char`\"{}}

\mbox{\Hypertarget{afhba-llcontrol_8c_a8092b26ebfae1da4b21e114c4f8439c1}\label{afhba-llcontrol_8c_a8092b26ebfae1da4b21e114c4f8439c1}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!HB\_FILE@{HB\_FILE}}
\index{HB\_FILE@{HB\_FILE}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{HB\_FILE}{HB\_FILE}}
{\footnotesize\ttfamily \#define H\+B\+\_\+\+F\+I\+LE~\char`\"{}/dev/rtm-\/t.\%lu\char`\"{}}

\mbox{\Hypertarget{afhba-llcontrol_8c_a25d64114c334056badd79ecd6862f9e5}\label{afhba-llcontrol_8c_a25d64114c334056badd79ecd6862f9e5}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!HB\_LEN@{HB\_LEN}}
\index{HB\_LEN@{HB\_LEN}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{HB\_LEN}{HB\_LEN}}
{\footnotesize\ttfamily \#define H\+B\+\_\+\+L\+EN~0x100000		/$\ast$ 1MB H\+O\+ST B\+U\+F\+F\+E\+R\+SW $\ast$/}

\mbox{\Hypertarget{afhba-llcontrol_8c_a69d4676733f5e850f451942b6d901382}\label{afhba-llcontrol_8c_a69d4676733f5e850f451942b6d901382}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!LOG\_FILE@{LOG\_FILE}}
\index{LOG\_FILE@{LOG\_FILE}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{LOG\_FILE}{LOG\_FILE}}
{\footnotesize\ttfamily \#define L\+O\+G\+\_\+\+F\+I\+LE~\char`\"{}afhba.\%d.\+log\char`\"{}}

\mbox{\Hypertarget{afhba-llcontrol_8c_a06c201f90533d5b49cd039c960327968}\label{afhba-llcontrol_8c_a06c201f90533d5b49cd039c960327968}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!NS@{NS}}
\index{NS@{NS}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{NS}{NS}}
{\footnotesize\ttfamily \#define NS~1000000000}

\mbox{\Hypertarget{afhba-llcontrol_8c_a3f02d7ec97f4f63aff0838447ab471d0}\label{afhba-llcontrol_8c_a3f02d7ec97f4f63aff0838447ab471d0}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!NSUS@{NSUS}}
\index{NSUS@{NSUS}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{NSUS}{NSUS}}
{\footnotesize\ttfamily \#define N\+S\+US~(\mbox{\hyperlink{afhba-llcontrol_8c_a06c201f90533d5b49cd039c960327968}{NS}}/\mbox{\hyperlink{afhba-llcontrol_8c_a89f9bd364d17d48182d34357c3508d05}{US}})}

\mbox{\Hypertarget{afhba-llcontrol_8c_a89f9bd364d17d48182d34357c3508d05}\label{afhba-llcontrol_8c_a89f9bd364d17d48182d34357c3508d05}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!US@{US}}
\index{US@{US}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{US}{US}}
{\footnotesize\ttfamily \#define US~1000000}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{afhba-llcontrol_8c_a61090d96e182bfa12227cf0819272e74}\label{afhba-llcontrol_8c_a61090d96e182bfa12227cf0819272e74}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!clear\_mapping@{clear\_mapping}}
\index{clear\_mapping@{clear\_mapping}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{clear\_mapping()}{clear\_mapping()}}
{\footnotesize\ttfamily void clear\+\_\+mapping (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{void $\ast$}]{hb }\end{DoxyParamCaption})}

\mbox{\Hypertarget{afhba-llcontrol_8c_a2d7bfa09e3bee0f30351dde8d4f940e1}\label{afhba-llcontrol_8c_a2d7bfa09e3bee0f30351dde8d4f940e1}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!difftime\_us@{difftime\_us}}
\index{difftime\_us@{difftime\_us}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{difftime\_us()}{difftime\_us()}}
{\footnotesize\ttfamily unsigned difftime\+\_\+us (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{afhba-llcontrol_8c_a5360620f54683c9cca00e2bdbb9350f9}\label{afhba-llcontrol_8c_a5360620f54683c9cca00e2bdbb9350f9}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!get\_mapping@{get\_mapping}}
\index{get\_mapping@{get\_mapping}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{get\_mapping()}{get\_mapping()}}
{\footnotesize\ttfamily void$\ast$ get\+\_\+mapping (\begin{DoxyParamCaption}\item[{dev\+\_\+t}]{devnum,  }\item[{int $\ast$}]{pfd }\end{DoxyParamCaption})}

\mbox{\Hypertarget{afhba-llcontrol_8c_a502f7a17377a31f5ee1aef6b13c8ee62}\label{afhba-llcontrol_8c_a502f7a17377a31f5ee1aef6b13c8ee62}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!goRealTime@{goRealTime}}
\index{goRealTime@{goRealTime}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{goRealTime()}{goRealTime()}}
{\footnotesize\ttfamily void go\+Real\+Time (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{afhba-llcontrol_8c_a0e19f97ee13d3ece358463de98f28b89}\label{afhba-llcontrol_8c_a0e19f97ee13d3ece358463de98f28b89}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!setAffinity@{setAffinity}}
\index{setAffinity@{setAffinity}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{setAffinity()}{setAffinity()}}
{\footnotesize\ttfamily void set\+Affinity (\begin{DoxyParamCaption}\item[{unsigned}]{cpu\+\_\+mask }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{afhba-llcontrol_8c_a19f74309ef48bc5d165c6afc335ed04f}\label{afhba-llcontrol_8c_a19f74309ef48bc5d165c6afc335ed04f}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!nchan@{nchan}}
\index{nchan@{nchan}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{nchan}{nchan}}
{\footnotesize\ttfamily int nchan = \mbox{\hyperlink{afhba-llcontrol_8c_aa773acf74a8662f592f2b20768bbc7f3}{D\+E\+F\+\_\+\+N\+C\+H\+AN}}}

\mbox{\Hypertarget{afhba-llcontrol_8c_a52d07f959b74576585992cde0d113c27}\label{afhba-llcontrol_8c_a52d07f959b74576585992cde0d113c27}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!sched\_fifo\_priority@{sched\_fifo\_priority}}
\index{sched\_fifo\_priority@{sched\_fifo\_priority}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{sched\_fifo\_priority}{sched\_fifo\_priority}}
{\footnotesize\ttfamily int sched\+\_\+fifo\+\_\+priority}

\mbox{\Hypertarget{afhba-llcontrol_8c_ad80a87ab088210eecdb985e6b14e85d6}\label{afhba-llcontrol_8c_ad80a87ab088210eecdb985e6b14e85d6}} 
\index{afhba-\/llcontrol.c@{afhba-\/llcontrol.c}!spadlongs@{spadlongs}}
\index{spadlongs@{spadlongs}!afhba-\/llcontrol.c@{afhba-\/llcontrol.c}}
\doxysubsubsection{\texorpdfstring{spadlongs}{spadlongs}}
{\footnotesize\ttfamily int spadlongs = 16}

