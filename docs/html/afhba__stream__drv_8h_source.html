<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AFHBA404: afhba_stream_drv.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AFHBA404
   </div>
   <div id="projectbrief">AFHBA404 connects ACQ2106 to PCI-Express</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">afhba_stream_drv.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="afhba__stream__drv_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * afhba_stream_drv.h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: 19 Jan 2015</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: pgm</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef AFHBA_STREAM_DRV_H_</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define AFHBA_STREAM_DRV_H_</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rtm-t__ioctl_8h.html">rtm-t_ioctl.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* idea by John: make it a multiple of 3 to handle 96ch align case */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define NBUFFERS    66</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a9edd9094928a345418d8d05c9a8e209f">   15</a></span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define NBUFFERS_FIFO   NBUFFERS</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ae89531ec8a38b391d5ac38825dec67dd">   17</a></span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define NBUFFERS_MASK   127</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#aef7a50dc900b44a2b4c003594ec6e159">   19</a></span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define BUFFER_LEN  0x100000</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a46130dc86f2322714bba26960b64e7bb">   21</a></span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define NSTATES     4</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ab9c62802a381a20b368720342c154c47">   24</a></span>&#160;<span class="preprocessor">#define N_DRV_STATES    3</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac8ab4e19015942ea0715706de01aa3cc">   25</a></span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define AFDMAC_PAGE     0x400       </span><span class="comment">/* 1K pages */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ae868c5539d726a3595608f17252dc1a3">   27</a></span>&#160;<span class="preprocessor">#define AFDMAC_LL_PAGE      64      </span><span class="comment">/* page length in LL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a54062856c3ec9e9a6b3d7da477b12860">   28</a></span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define AFDMAC_DESC_ADDR_MASK   0xfffffc00  </span><span class="comment">/* base address */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac57d3b914678976145ccb2e0b3024972">   30</a></span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define AFDMAC_DESC_WRITE   0x00000200  </span><span class="comment">/* Write BIT */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a0908e48784b929cae8767350abd85512">   32</a></span>&#160;<span class="preprocessor">#define AFDMAC_DESC_EOT     0x00000100  </span><span class="comment">/* End Of Transfer interrupt */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a4b9bb4b302f0092b9666fab2fabcff5f">   33</a></span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define AFDMAC_DESC_LEN_MASK    0x000000f0  </span><span class="comment">/* length (pages) */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ad55baee5e5abbce6f7a9d859c8a78de6">   35</a></span>&#160;<span class="preprocessor">#define AFDMAC_DESC_LEN_SHL 4</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a6622766672396463b1ac3a5421be375d">   36</a></span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define AFDMAC_DESC_ID_MASK 0x0000000f  </span><span class="comment">/* ID 0..15 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#aca5e43944800ef01c33c31350de66ceb">   38</a></span>&#160;<span class="preprocessor">#define AFDMAC_DESC_ID      0x0000000f  </span><span class="comment">/* ID 0..15 */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#af5f006bf1f56ba5f380df2fa2d3319b5">   39</a></span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define AFDMAC_DESCR(pa, pages, id) \</span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a920ae2c2a658be9dd6142aaf0b33daf3">   41</a></span>&#160;<span class="preprocessor">    (((pa)&amp;AFDMAC_DESC_ADDR_MASK)|  \</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">    ((((pages)-1) &lt;&lt; AFDMAC_DESC_LEN_SHL)&amp;AFDMAC_DESC_LEN_MASK)| \</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">    (id))</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/* we wanted an elegant multi-vector solution, but we can only have one int */</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define MSI_DMA     0</span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a08c194f91da685b04efa23a3149e72cc">   47</a></span>&#160;<span class="preprocessor">#ifdef MSI_BLOCK_WORKS</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#define MSI_UART    1</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define MSI_UART    0</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#aaf29f0c33bae1d72744a039fab7151d6">   51</a></span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6449fd08f989996467f5eb63990f233b">   53</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55baf8e9565c9ffc164b9998517e26b14181">PS_OFF</a>, <a class="code" href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba920b6a00e88c60986b1f23fda4fd6092">PS_PLEASE_STOP</a>, <a class="code" href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6449fd08f989996467f5eb63990f233b">PS_STOP_DONE</a> };</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/* Linux RT kernel does not have dynamic debug enabled :-(</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> * define PGM_DEBUG_REGS_ACCESS to enable globally</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#if defined(PGM_DEBUG_REGS_ACCESS)</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#define DEV_DBG     dev_info</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#define DEV_DBG     dev_dbg</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac30fd841bd55bcdf79bb25f8b0353b28">   62</a></span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html">   66</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structAFHBA__STREAM__DEV.html">AFHBA_STREAM_DEV</a> {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">struct </span>mutex <a class="code" href="structAFHBA__STREAM__DEV.html#a279937ffe89ab255c2c76c67b4b65f19">list_mutex</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html">   70</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html">BOTTLING_PLANT</a> {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keyword">struct </span>list_head <a class="code" href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html#aba8383992a2a58d0f471267488e5999d">list</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html#a5a20833a73997d24e8566f7c61227fa4">   72</a></span>&#160;        <span class="keyword">struct </span>proc_dir_entry *<a class="code" href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html#a5a20833a73997d24e8566f7c61227fa4">proc</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a0fb4701b7ace3e2da20b3285664b9462">   74</a></span>&#160;        <a class="code" href="structAFHBA__STREAM__DEV.html#a0fb4701b7ace3e2da20b3285664b9462">bp</a>[<a class="code" href="afhba__stream__drv_8h.html#ac8ab4e19015942ea0715706de01aa3cc">N_DRV_STATES</a>];</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#define bp_empties bp[BS_EMPTY]</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a167119b29ef3ccc828c98e25b102f3a3">   77</a></span>&#160;<span class="preprocessor">#define bp_filling bp[BS_FILLING]</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ad3edde8c556651de00f92b0afeafcadc">   78</a></span>&#160;<span class="preprocessor">#define bp_full    bp[BS_FULL]</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac6d7152fc1e5bd1a63b3101adecdba0f">   79</a></span>&#160;<span class="comment">/* BS_FULL_APP : in list in path buffer */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a2cf0dfb0f067949e95c19245b222e730">   82</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a2cf0dfb0f067949e95c19245b222e730">nbuffers</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a69af530078a5a8e89302818d11f63b50">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a69af530078a5a8e89302818d11f63b50">buffer_len</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#af855fb8d98e8c8ee23476aa15bf22e6a">   84</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structHostBuffer.html">HostBuffer</a> *<a class="code" href="structAFHBA__STREAM__DEV.html#af855fb8d98e8c8ee23476aa15bf22e6a">hbx</a>;     <span class="comment">/* streaming host buffers [nbuffers] */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a698a73620445855f1e381a4ac72cd2e9">   87</a></span>&#160;    <span class="keyword">struct </span>proc_dir_entry *<a class="code" href="structAFHBA__STREAM__DEV.html#a698a73620445855f1e381a4ac72cd2e9">proc_dir_root</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html">   89</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html">JOB</a> {</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a2668d591e386f01f8aa081e6c4afa02e">   90</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a2668d591e386f01f8aa081e6c4afa02e">buffers_demand</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a21397526cf29b19ce7b8b7a74426e287">   91</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a21397526cf29b19ce7b8b7a74426e287">buffers_queued</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a988df5b17dfdbc50f46121ad71944be6">   92</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a988df5b17dfdbc50f46121ad71944be6">buffers_received</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a8a9b9fd57bc8eae0c32c85c83f0310c0">   93</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a8a9b9fd57bc8eae0c32c85c83f0310c0">ints</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a793814123d1238a02935038280a615a3">   94</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a793814123d1238a02935038280a615a3">please_stop</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#ac280c5a8c369abb50e36c4e5ed022860">   95</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#ac280c5a8c369abb50e36c4e5ed022860">rx_buffers_previous</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a35230d84ac62704fef00f2320e1273f1">   96</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a35230d84ac62704fef00f2320e1273f1">int_previous</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#ad98c1c1d8e4b25d29c0505e61b26c257">   97</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#ad98c1c1d8e4b25d29c0505e61b26c257">rx_rate</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a6a52a55eaf39d9f9ed5bdf64bf77ca86">   98</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a6a52a55eaf39d9f9ed5bdf64bf77ca86">int_rate</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a5a27cab06b6891f25d52da9de6591807">   99</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a5a27cab06b6891f25d52da9de6591807">errors</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a42c08a15d5782b6c0a65b853924fdca2">  100</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a42c08a15d5782b6c0a65b853924fdca2">buffers_discarded</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a2d98a3edfa60ca2625d533320198c654">  102</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a2d98a3edfa60ca2625d533320198c654">catchup_histo</a>[<a class="code" href="afhba__stream__drv_8h.html#a9edd9094928a345418d8d05c9a8e209f">NBUFFERS</a>];</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#a788c2bdee1123a042a66d5edf0fd7793">  103</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a1f89c4bfd5f3064a056c1c0e7719d61d">dma_started</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keyword">struct </span><a class="code" href="structXLLC__DEF.html">XLLC_DEF</a> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a788c2bdee1123a042a66d5edf0fd7793">push_llc_def</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keyword">struct </span><a class="code" href="structXLLC__DEF.html">XLLC_DEF</a> <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#a501d72113759332d831532bfd9be0584">pull_llc_def</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#ab066de913f9bb2d6dca23925d41971d7">  107</a></span>&#160;        int (* <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#ab066de913f9bb2d6dca23925d41971d7">on_push_dma_timeout</a>)(<span class="keyword">struct </span><a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1JOB.html#aaecffe67daf66cd1b02fa7c824127fbd">  108</a></span>&#160;        int (* <a class="code" href="structAFHBA__STREAM__DEV_1_1JOB.html#aaecffe67daf66cd1b02fa7c824127fbd">on_pull_dma_timeout</a>)(<span class="keyword">struct </span><a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#af794c6caef1967dcb9dbaa9494eb8529">  110</a></span>&#160;        <a class="code" href="structAFHBA__STREAM__DEV.html#af794c6caef1967dcb9dbaa9494eb8529">job</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ae90f03a73dd5669ff380ad56f41fe1cb">  111</a></span>&#160;    spinlock_t <a class="code" href="structAFHBA__STREAM__DEV.html#ae90f03a73dd5669ff380ad56f41fe1cb">job_lock</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ab1e3d875b4fe51cf4ef0f09ddcf724e0">  113</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#ab1e3d875b4fe51cf4ef0f09ddcf724e0">push_dma_timeouts</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ade7a54bfd5282edeb85d76010f9f9b54">  114</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#ade7a54bfd5282edeb85d76010f9f9b54">pull_dma_timeouts</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ab3ee92d435b5a7b67575f245ba4f19f1">  115</a></span>&#160;    <span class="keywordtype">unsigned</span> *<a class="code" href="structAFHBA__STREAM__DEV.html#ab3ee92d435b5a7b67575f245ba4f19f1">data_fifo_histo</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a02bef5ccba096955c246a475f7a9f186">  116</a></span>&#160;    <span class="keywordtype">unsigned</span> *<a class="code" href="structAFHBA__STREAM__DEV.html#a02bef5ccba096955c246a475f7a9f186">desc_fifo_histo</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a7731625401f259b90ba6d87453ab0ef4">  118</a></span>&#160;    void (*<a class="code" href="structAFHBA__STREAM__DEV.html#a7731625401f259b90ba6d87453ab0ef4">init_descriptors</a>)(<span class="keyword">struct </span><a class="code" href="structAFHBA__STREAM__DEV.html">AFHBA_STREAM_DEV</a> *sdev);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1WORK.html">  120</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structAFHBA__STREAM__DEV_1_1WORK.html">WORK</a> {               <span class="comment">/* ISR BH processing */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1WORK.html#af51b689c8012734c23396c3fae90aeb2">  121</a></span>&#160;        wait_queue_head_t <a class="code" href="structAFHBA__STREAM__DEV_1_1WORK.html#af51b689c8012734c23396c3fae90aeb2">w_waitq</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1WORK.html#a3b0ba7b07aa0e68ea03d6f67defd3db7">  122</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structAFHBA__STREAM__DEV_1_1WORK.html#a3b0ba7b07aa0e68ea03d6f67defd3db7">w_to_do</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV_1_1WORK.html#a6f997ad8e4b56d181960ed0323ef4967">  123</a></span>&#160;        <span class="keyword">struct </span>task_struct* <a class="code" href="structAFHBA__STREAM__DEV_1_1WORK.html#a6f997ad8e4b56d181960ed0323ef4967">w_task</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#define WORK_REQUEST    0</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ab02c64bb8d0a2bf6046704807f81a86b">  125</a></span>&#160;        <span class="keyword">struct </span>task_struct* <a class="code" href="structAFHBA__STREAM__DEV_1_1WORK.html#a74bf1c9ce02c6b1fd4f752f622a2b2ab">mon_task</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a1962c6439a94ecb2957e2e0faf0b0a8b">  126</a></span>&#160;    } <a class="code" href="structAFHBA__STREAM__DEV.html#a1962c6439a94ecb2957e2e0faf0b0a8b">work</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a0e0676f7f349cd38b06aa96116a00674">  128</a></span>&#160;    wait_queue_head_t <a class="code" href="structAFHBA__STREAM__DEV.html#a0e0676f7f349cd38b06aa96116a00674">return_waitq</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a8829ac3a7140a9b90bf7a674fd8cc9c8">  130</a></span>&#160;    <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> <a class="code" href="structAFHBA__STREAM__DEV.html#a8829ac3a7140a9b90bf7a674fd8cc9c8">dma_regs</a>[<a class="code" href="acq-fiber-hba_8h.html#a4197530ae6b3346313f06b487a5853d6abe1e04676aba20ba77556bc1290ee1cf">DMA_REGS_COUNT</a>];</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ac83d091ab036b708efc9175ef7d78868">  132</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structAFHBA__STREAM__DEV.html#ac83d091ab036b708efc9175ef7d78868">pid</a>;       <span class="comment">/* pid of dma_read process */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a34fe398e6d2f60b4f9d2cd0a86b2f593">  133</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a34fe398e6d2f60b4f9d2cd0a86b2f593">req_len</a>;        <span class="comment">/* request len .. not part of job ? */</span></div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#af565a6213fd5e71b613073adc07ef21d">  134</a></span>&#160;    void (* <a class="code" href="structAFHBA__STREAM__DEV.html#af565a6213fd5e71b613073adc07ef21d">onStopPull</a>)(<span class="keyword">struct </span><a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a14b5900655ecadbd3854fb2d76a5a529">  135</a></span>&#160;    void (* <a class="code" href="structAFHBA__STREAM__DEV.html#a14b5900655ecadbd3854fb2d76a5a529">onStopPush</a>)(<span class="keyword">struct </span><a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a8246f4c178eab2ce654ae396dd6196dd">  136</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a8246f4c178eab2ce654ae396dd6196dd">push_ram_cursor</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a375f76281ad4fe88964fe21a3061fc77">  137</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a375f76281ad4fe88964fe21a3061fc77">pull_ram_cursor</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a3eff1e164dbd0693ab010f032d5ece7d">  141</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a3eff1e164dbd0693ab010f032d5ece7d">comms_init_done</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#aa60c63bb0378c1f8b05b3abd4de58e0c">  143</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structAFHBA__STREAM__DEV.html#aa60c63bb0378c1f8b05b3abd4de58e0c">irq_names</a>[4][32];</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#ae80bcb24ed63c2e1416b20359d4684b0">  145</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structAFHBA__STREAM__DEV.html#ae80bcb24ed63c2e1416b20359d4684b0">aurora_fail_detected</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a331b238be617743e30fa8273ca287ba2">  146</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a331b238be617743e30fa8273ca287ba2">push_descr_ram</a>;  <span class="comment">/* use ram descriptor on PUSH */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a8d5a0ead72a40ab6e232688bb59b1f53">  147</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a8d5a0ead72a40ab6e232688bb59b1f53">pull_descr_ram</a>;  <span class="comment">/* use ram descriptor on PULL */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748">  148</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748">ZI_REPORT</a> { <a class="code" href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748ac04139ae967089e7b19cb54a0a87b538">ZI_BAD</a> = -1, <a class="code" href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748a7a163149e73ed7087132463b1d7d4ea0">ZI_NULL</a> = 0, <a class="code" href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748a4b88ed9b908f4018897f1dfac44377d4">ZI_GOOD</a> = 1 } <a class="code" href="structAFHBA__STREAM__DEV.html#a4967b2c4cae5f1d6bfd442b25e733054">zi_report</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a91e4abf9b2ad70cdfdbb44fa024243a1">  150</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structAFHBA__STREAM__DEV.html#a91e4abf9b2ad70cdfdbb44fa024243a1">shot</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#aa4298e42d4d8ccffd10f6b856be018d1">  151</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structAFHBA__STREAM__DEV.html#aa4298e42d4d8ccffd10f6b856be018d1">user</a>;     <span class="comment">// opaque user buffer, kfree on close</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;};</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structAO__BURST__DEV.html">  154</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structAO__BURST__DEV.html">AO_BURST_DEV</a> {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">struct </span><a class="code" href="structAO__BURST.html">AO_BURST</a> <a class="code" href="structAO__BURST__DEV.html#aa7c084ac092021422be4cb40a78c60ee">ao_burst</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structAO__BURST__DEV.html#af2ad06d208ce62c5574477d8f4281545">  156</a></span>&#160;    wait_queue_head_t <a class="code" href="structAO__BURST__DEV.html#af2ad06d208ce62c5574477d8f4281545">w_waitq</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structAO__BURST__DEV.html#ab94af56ca33c2412ff795cd96d38ffe9">  157</a></span>&#160;    <span class="keyword">struct </span>task_struct* <a class="code" href="structAO__BURST__DEV.html#ab94af56ca33c2412ff795cd96d38ffe9">w_task</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structAO__BURST__DEV.html#af610163efc17cfce846100dff4b3b7ee">  158</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structAO__BURST__DEV.html#af610163efc17cfce846100dff4b3b7ee">srcdesc</a>;               <span class="comment">// internal use only</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;};</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#define AO_BURST_DEV(sdev)  ((struct AO_BURST_DEV*)sdev-&gt;user)</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a467cacb45e2b0c30dd800258f4deb3d6">  161</a></span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#define MIRROR(adev, ix) (adev-&gt;stream_dev-&gt;dma_regs[ix])</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a48191d2390995f020ba57b1dc0dee1c7">  163</a></span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#a4fddbbf919d57b001f97bca2b2521b62">_afs_write_pcireg</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <span class="keywordtype">int</span> regoff, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> value);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> <a class="code" href="afhba__stream__drv_8h.html#adc49ed04231db0e41efe0fc5c25ca7ff">_afs_read_pcireg</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <span class="keywordtype">int</span> regoff);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keywordtype">int</span> <a class="code" href="afhba__stream__drv_8h.html#a3dbafa9a98192f8ca20e3d5b2d5d737d">afs_comms_ready</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#define PCI_REG_WRITE(adev, regoff, value) \</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#aab73cb0c01d18e0510602120bdb24c1a">  170</a></span>&#160;<span class="preprocessor">    _afs_write_pcireg(adev, regoff, value)</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#define PCI_REG_READ(adev, regoff) \</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a93a94945ee0ef7bffa235ed57c9163c4">  173</a></span>&#160;<span class="preprocessor">    _afs_read_pcireg(adev, regoff)</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#a22da44f681fa5bf421fb8b174d75f661">_afs_write_dmareg</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <span class="keywordtype">int</span> regoff, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> value);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> <a class="code" href="afhba__stream__drv_8h.html#a233c0342a175dad7cc8fd99630980cae">_afs_read_dmareg</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <span class="keywordtype">int</span> regoff);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#define DMA_CTRL_WR(adev, value) \</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ab10018bd41b655628492a0349f258f04">  179</a></span>&#160;<span class="preprocessor">    _afs_write_dmareg(adev, DMA_CTRL, MIRROR(adev, DMA_CTRL) = value)</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#define DMA_CTRL_RD(adev) \</span></div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a187b648e9ff7b64e5d8a7f19186635cc">  183</a></span>&#160;<span class="preprocessor">    (MIRROR(adev, DMA_CTRL) = _afs_read_dmareg(adev, DMA_CTRL))</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">#define DMA_CTRL_CLR(adev, bits) do {                          \</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a88b311538ef4d5ac613460f3e36e0d1b">  186</a></span>&#160;<span class="preprocessor">    u32 ctrl = DMA_CTRL_RD(adev);                          \</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">    _afs_write_dmareg(adev, DMA_CTRL, MIRROR(adev, DMA_CTRL) &amp;= ~(bits));  \</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">    ctrl = DMA_CTRL_RD(adev);                          \</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="preprocessor">    if ((ctrl&amp;bits) != 0){                                                 \</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">        dev_err(pdev(adev),                                            \</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">        &quot;DMA_CTRL_CLR sfp:%c wanted to clear:%08x but got %08x&quot;,       \</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">        adev-&gt;sfp+&#39;A&#39;, bits, ctrl);                        \</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="preprocessor">    }                                      \</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">} while(0)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#define DMA_CTRL_SET(adev, bits) do {                          \</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a2aea9cb5ff4d27ddd9f0d422f7fcb60b">  197</a></span>&#160;<span class="preprocessor">    u32 ctrl = DMA_CTRL_RD(adev);                          \</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">    _afs_write_dmareg(adev, DMA_CTRL, MIRROR(adev, DMA_CTRL) |= (bits));   \</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">    ctrl = DMA_CTRL_RD(adev);                          \</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">    if ((ctrl&amp;bits) == 0){                                                 \</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">        dev_err(pdev(adev),                                            \</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">        &quot;DMA_CTRL_SET sfp:%c wanted to set:%08x but got %08x&quot;,         \</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">            adev-&gt;sfp+&#39;A&#39;, bits, ctrl);                            \</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">    }                                      \</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">} while(0)</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#define DMA_TEST_WR(adev, value) \</span></div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ad03303d0c253c54bb1760319ad974261">  209</a></span>&#160;<span class="preprocessor">    _afs_write_dmareg(adev, DMA_TEST, MIRROR(adev, DMA_TEST) = (value))</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">#define DMA_TEST_RD(adev) \</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#afe43ec6f411bcd6e8f30c12d6ff11f82">  212</a></span>&#160;<span class="preprocessor">    (MIRROR(adev, DMA_TEST) = _afs_read_dmareg(adev, DMA_TEST))</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#a831db746d540bedda70579bb4b851987">_afs_write_comreg</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <span class="keywordtype">int</span> regoff, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> value);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#aeaa2f5cf0e00f6068cc4e7ad604ff73b">__afs_dma_reset</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> dma_sel);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#define afs_dma_reset(adev, dma_sel)  do {                          \</span></div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a556139ca3b72b2f3abd061b86b77314b">  220</a></span>&#160;<span class="preprocessor">       DEV_DBG(pdev(adev), &quot;afs_dma_reset, called from %s %d&quot;, __FILE__, __LINE__);     \</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">       __afs_dma_reset(adev, dma_sel);                          \</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="preprocessor">    } while(0)</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#aa640f4215ec3a00abad8f9eb77ab07d7">__afs_start_dma</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> dma_sel);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#define afs_start_dma(adev, dma_sel) do {                       \</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a9e1bb1c12513c1c3bb2643988d43eed1">  227</a></span>&#160;<span class="preprocessor">    DEV_DBG(pdev(adev), &quot;afs_start_dma, called from %s %d&quot;, __FILE__, __LINE__);    \</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">    __afs_start_dma(adev, dma_sel);                         \</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">    } while(0)</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keywordtype">void</span> <a class="code" href="afhba__stream__drv_8h.html#a030fefaf23608a69e6adf1c91276a088">__afs_stop_dma</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev, <a class="code" href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a> dma_sel);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="preprocessor">#define afs_stop_dma(adev, dma_sel) do {                        \</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ab69d4e69893f486731b314b0a47a1068">  234</a></span>&#160;<span class="preprocessor">    DEV_DBG(pdev(adev), &quot;afs_stop_dma, called from %s %d&quot;, __FILE__, __LINE__); \</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">    __afs_stop_dma(adev, dma_sel);                          \</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">    } while(0)</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#define DMA_DATA_FIFSTA_RD(adev)   _afs_read_dmareg(adev, DMA_DATA_FIFSTA)</span></div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a930a7e2fe34f32fe9bfeeb119314637d">  239</a></span>&#160;<span class="preprocessor">#define DMA_DESC_FIFSTA_RD(adev)   _afs_read_dmareg(adev, DMA_DESC_FIFSTA)</span></div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a0592c6481f6cea5a445fa86b8063762c">  240</a></span>&#160;<span class="preprocessor">#define DMA_PUSH_DESC_STA_RD(adev) _afs_read_dmareg(adev, DMA_PUSH_DESC_STA)</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac2010931b2784f1b42ab6f9b39fddabe">  241</a></span>&#160;<span class="preprocessor">#define DMA_PULL_DESC_STA_RD(adev) _afs_read_dmareg(adev, DMA_PULL_DESC_STA)</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ac871d57b7ef44a736d87f482c635e0bd">  242</a></span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#define EMPTY1  0xee11ee11</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a3054df85b600c91582b3a8e4c30d3212">  245</a></span>&#160;<span class="preprocessor">#define EMPTY2  0x22ee22ee</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a3164e216aed74d55d1a3a8d79e304ab5">  246</a></span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="preprocessor">#define RTDMAC_DATA_FIFO_CNT    0x1000</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#a12dde3215bce69fded07968b4bfe2bd0">  248</a></span>&#160;<span class="preprocessor">#define RTDMAC_DESC_FIFO_CNT    0x1000</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#ad501989c72cedfe05c380e18ea813941">  249</a></span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="preprocessor">#define HB_ENTRY(plist) list_entry(plist, struct HostBuffer, list)</span></div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="afhba__stream__drv_8h.html#acc797cf251e0f9ec5a1172844b69bb37">  251</a></span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">int</span> <a class="code" href="afhba__stream__drv_8h.html#a501cdc1ad7581bfe972a424488e9cb4e">afs_init_procfs</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keywordtype">int</span> <a class="code" href="afhba__stream__drv_8h.html#ae6bdfc093685df3cf8907ff68d25da21">afs_reset_buffers</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keywordtype">int</span> <a class="code" href="afhba__stream__drv_8h.html#a9c9d3e771c72bfce57e2487a342c8b52">afs_comms_init</a>(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structAFHBA__STREAM__DEV.html#a279937ffe89ab255c2c76c67b4b65f19">  259</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">char</span> aurora_id(<span class="keyword">struct</span> <a class="code" href="structAFHBA__DEV.html">AFHBA_DEV</a> *adev)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span> adev-&gt;<a class="code" href="structAFHBA__DEV.html#aed419a93d97f701f91704d0751abe9ce">sfp</a> - SFP_A + <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* AFHBA_STREAM_DRV_H_ */</span><span class="preprocessor"></span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a331b238be617743e30fa8273ca287ba2"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a331b238be617743e30fa8273ca287ba2">AFHBA_STREAM_DEV::push_descr_ram</a></div><div class="ttdeci">bool push_descr_ram</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00146">afhba_stream_drv.h:146</a></div></div>
<div class="ttc" id="astructAFHBA__DEV_html_aed419a93d97f701f91704d0751abe9ce"><div class="ttname"><a href="structAFHBA__DEV.html#aed419a93d97f701f91704d0751abe9ce">AFHBA_DEV::sfp</a></div><div class="ttdeci">enum AFHBA_DEV::SFP sfp</div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ab1e3d875b4fe51cf4ef0f09ddcf724e0"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ab1e3d875b4fe51cf4ef0f09ddcf724e0">AFHBA_STREAM_DEV::push_dma_timeouts</a></div><div class="ttdeci">int push_dma_timeouts</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00113">afhba_stream_drv.h:113</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a030fefaf23608a69e6adf1c91276a088"><div class="ttname"><a href="afhba__stream__drv_8h.html#a030fefaf23608a69e6adf1c91276a088">__afs_stop_dma</a></div><div class="ttdeci">void __afs_stop_dma(struct AFHBA_DEV *adev, u32 dma_sel)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00563">afhba_stream_drv.c:563</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa96573d50dc3041d671bf8f7d7ee1748a7a163149e73ed7087132463b1d7d4ea0"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748a7a163149e73ed7087132463b1d7d4ea0">AFHBA_STREAM_DEV::ZI_NULL</a></div><div class="ttdeci">@ ZI_NULL</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00148">afhba_stream_drv.h:148</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a2cf0dfb0f067949e95c19245b222e730"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a2cf0dfb0f067949e95c19245b222e730">AFHBA_STREAM_DEV::nbuffers</a></div><div class="ttdeci">int nbuffers</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00082">afhba_stream_drv.h:82</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_af855fb8d98e8c8ee23476aa15bf22e6a"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#af855fb8d98e8c8ee23476aa15bf22e6a">AFHBA_STREAM_DEV::hbx</a></div><div class="ttdeci">struct HostBuffer * hbx</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00084">afhba_stream_drv.h:84</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a4fddbbf919d57b001f97bca2b2521b62"><div class="ttname"><a href="afhba__stream__drv_8h.html#a4fddbbf919d57b001f97bca2b2521b62">_afs_write_pcireg</a></div><div class="ttdeci">void _afs_write_pcireg(struct AFHBA_DEV *adev, int regoff, u32 value)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00322">afhba_stream_drv.c:322</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_ac8ab4e19015942ea0715706de01aa3cc"><div class="ttname"><a href="afhba__stream__drv_8h.html#ac8ab4e19015942ea0715706de01aa3cc">N_DRV_STATES</a></div><div class="ttdeci">#define N_DRV_STATES</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00025">afhba_stream_drv.h:24</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a501d72113759332d831532bfd9be0584"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a501d72113759332d831532bfd9be0584">AFHBA_STREAM_DEV::JOB::pull_llc_def</a></div><div class="ttdeci">struct XLLC_DEF pull_llc_def</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00103">afhba_stream_drv.h:106</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1WORK_html_a3b0ba7b07aa0e68ea03d6f67defd3db7"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1WORK.html#a3b0ba7b07aa0e68ea03d6f67defd3db7">AFHBA_STREAM_DEV::WORK::w_to_do</a></div><div class="ttdeci">unsigned long w_to_do</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00122">afhba_stream_drv.h:122</a></div></div>
<div class="ttc" id="astructAO__BURST__DEV_html_af610163efc17cfce846100dff4b3b7ee"><div class="ttname"><a href="structAO__BURST__DEV.html#af610163efc17cfce846100dff4b3b7ee">AO_BURST_DEV::srcdesc</a></div><div class="ttdeci">unsigned srcdesc</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00158">afhba_stream_drv.h:158</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1WORK_html_af51b689c8012734c23396c3fae90aeb2"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1WORK.html#af51b689c8012734c23396c3fae90aeb2">AFHBA_STREAM_DEV::WORK::w_waitq</a></div><div class="ttdeci">wait_queue_head_t w_waitq</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00121">afhba_stream_drv.h:121</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a91e4abf9b2ad70cdfdbb44fa024243a1"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a91e4abf9b2ad70cdfdbb44fa024243a1">AFHBA_STREAM_DEV::shot</a></div><div class="ttdeci">int shot</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00150">afhba_stream_drv.h:150</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ae90f03a73dd5669ff380ad56f41fe1cb"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ae90f03a73dd5669ff380ad56f41fe1cb">AFHBA_STREAM_DEV::job_lock</a></div><div class="ttdeci">spinlock_t job_lock</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00111">afhba_stream_drv.h:111</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a0fb4701b7ace3e2da20b3285664b9462"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a0fb4701b7ace3e2da20b3285664b9462">AFHBA_STREAM_DEV::bp</a></div><div class="ttdeci">struct AFHBA_STREAM_DEV::BOTTLING_PLANT bp[N_DRV_STATES]</div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a42c08a15d5782b6c0a65b853924fdca2"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a42c08a15d5782b6c0a65b853924fdca2">AFHBA_STREAM_DEV::JOB::buffers_discarded</a></div><div class="ttdeci">unsigned buffers_discarded</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00100">afhba_stream_drv.h:100</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1BOTTLING__PLANT_html"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html">AFHBA_STREAM_DEV::BOTTLING_PLANT</a></div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00070">afhba_stream_drv.h:70</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa96573d50dc3041d671bf8f7d7ee1748"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748">AFHBA_STREAM_DEV::ZI_REPORT</a></div><div class="ttdeci">ZI_REPORT</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00148">afhba_stream_drv.h:148</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_ac280c5a8c369abb50e36c4e5ed022860"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#ac280c5a8c369abb50e36c4e5ed022860">AFHBA_STREAM_DEV::JOB::rx_buffers_previous</a></div><div class="ttdeci">unsigned rx_buffers_previous</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00095">afhba_stream_drv.h:95</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a8829ac3a7140a9b90bf7a674fd8cc9c8"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a8829ac3a7140a9b90bf7a674fd8cc9c8">AFHBA_STREAM_DEV::dma_regs</a></div><div class="ttdeci">u32 dma_regs[DMA_REGS_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00130">afhba_stream_drv.h:130</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ade7a54bfd5282edeb85d76010f9f9b54"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ade7a54bfd5282edeb85d76010f9f9b54">AFHBA_STREAM_DEV::pull_dma_timeouts</a></div><div class="ttdeci">int pull_dma_timeouts</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00114">afhba_stream_drv.h:114</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a788c2bdee1123a042a66d5edf0fd7793"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a788c2bdee1123a042a66d5edf0fd7793">AFHBA_STREAM_DEV::JOB::push_llc_def</a></div><div class="ttdeci">struct XLLC_DEF push_llc_def</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00103">afhba_stream_drv.h:105</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a9edd9094928a345418d8d05c9a8e209f"><div class="ttname"><a href="afhba__stream__drv_8h.html#a9edd9094928a345418d8d05c9a8e209f">NBUFFERS</a></div><div class="ttdeci">#define NBUFFERS</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00015">afhba_stream_drv.h:14</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa96573d50dc3041d671bf8f7d7ee1748a4b88ed9b908f4018897f1dfac44377d4"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748a4b88ed9b908f4018897f1dfac44377d4">AFHBA_STREAM_DEV::ZI_GOOD</a></div><div class="ttdeci">@ ZI_GOOD</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00148">afhba_stream_drv.h:148</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a06fc87d81c62e9abb8790b6e5713c55baf8e9565c9ffc164b9998517e26b14181"><div class="ttname"><a href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55baf8e9565c9ffc164b9998517e26b14181">PS_OFF</a></div><div class="ttdeci">@ PS_OFF</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00053">afhba_stream_drv.h:53</a></div></div>
<div class="ttc" id="astructXLLC__DEF_html"><div class="ttname"><a href="structXLLC__DEF.html">XLLC_DEF</a></div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00045">rtm-t_ioctl.h:45</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a34fe398e6d2f60b4f9d2cd0a86b2f593"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a34fe398e6d2f60b4f9d2cd0a86b2f593">AFHBA_STREAM_DEV::req_len</a></div><div class="ttdeci">int req_len</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00133">afhba_stream_drv.h:133</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a375f76281ad4fe88964fe21a3061fc77"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a375f76281ad4fe88964fe21a3061fc77">AFHBA_STREAM_DEV::pull_ram_cursor</a></div><div class="ttdeci">int pull_ram_cursor</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00137">afhba_stream_drv.h:137</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1WORK_html_a74bf1c9ce02c6b1fd4f752f622a2b2ab"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1WORK.html#a74bf1c9ce02c6b1fd4f752f622a2b2ab">AFHBA_STREAM_DEV::WORK::mon_task</a></div><div class="ttdeci">struct task_struct * mon_task</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00125">afhba_stream_drv.h:125</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa60c63bb0378c1f8b05b3abd4de58e0c"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa60c63bb0378c1f8b05b3abd4de58e0c">AFHBA_STREAM_DEV::irq_names</a></div><div class="ttdeci">char irq_names[4][32]</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00143">afhba_stream_drv.h:143</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a279937ffe89ab255c2c76c67b4b65f19"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a279937ffe89ab255c2c76c67b4b65f19">AFHBA_STREAM_DEV::list_mutex</a></div><div class="ttdeci">struct mutex list_mutex</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00259">afhba_stream_drv.h:68</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_af565a6213fd5e71b613073adc07ef21d"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#af565a6213fd5e71b613073adc07ef21d">AFHBA_STREAM_DEV::onStopPull</a></div><div class="ttdeci">void(* onStopPull)(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00134">afhba_stream_drv.h:134</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a02bef5ccba096955c246a475f7a9f186"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a02bef5ccba096955c246a475f7a9f186">AFHBA_STREAM_DEV::desc_fifo_histo</a></div><div class="ttdeci">unsigned * desc_fifo_histo</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00116">afhba_stream_drv.h:116</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a7731625401f259b90ba6d87453ab0ef4"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a7731625401f259b90ba6d87453ab0ef4">AFHBA_STREAM_DEV::init_descriptors</a></div><div class="ttdeci">void(* init_descriptors)(struct AFHBA_STREAM_DEV *sdev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00118">afhba_stream_drv.h:118</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_ab066de913f9bb2d6dca23925d41971d7"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#ab066de913f9bb2d6dca23925d41971d7">AFHBA_STREAM_DEV::JOB::on_push_dma_timeout</a></div><div class="ttdeci">int(* on_push_dma_timeout)(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00107">afhba_stream_drv.h:107</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a698a73620445855f1e381a4ac72cd2e9"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a698a73620445855f1e381a4ac72cd2e9">AFHBA_STREAM_DEV::proc_dir_root</a></div><div class="ttdeci">struct proc_dir_entry * proc_dir_root</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00087">afhba_stream_drv.h:87</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html"><div class="ttname"><a href="rtm-t__ioctl_8h.html">rtm-t_ioctl.h</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a4967b2c4cae5f1d6bfd442b25e733054"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a4967b2c4cae5f1d6bfd442b25e733054">AFHBA_STREAM_DEV::zi_report</a></div><div class="ttdeci">enum AFHBA_STREAM_DEV::ZI_REPORT zi_report</div></div>
<div class="ttc" id="astructAO__BURST_html"><div class="ttname"><a href="structAO__BURST.html">AO_BURST</a></div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00067">rtm-t_ioctl.h:67</a></div></div>
<div class="ttc" id="astructAO__BURST__DEV_html_aa7c084ac092021422be4cb40a78c60ee"><div class="ttname"><a href="structAO__BURST__DEV.html#aa7c084ac092021422be4cb40a78c60ee">AO_BURST_DEV::ao_burst</a></div><div class="ttdeci">struct AO_BURST ao_burst</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00125">afhba_stream_drv.h:155</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a9c9d3e771c72bfce57e2487a342c8b52"><div class="ttname"><a href="afhba__stream__drv_8h.html#a9c9d3e771c72bfce57e2487a342c8b52">afs_comms_init</a></div><div class="ttdeci">int afs_comms_init(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00749">afhba_stream_drv.c:749</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a8d5a0ead72a40ab6e232688bb59b1f53"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a8d5a0ead72a40ab6e232688bb59b1f53">AFHBA_STREAM_DEV::pull_descr_ram</a></div><div class="ttdeci">bool pull_descr_ram</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00147">afhba_stream_drv.h:147</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a501cdc1ad7581bfe972a424488e9cb4e"><div class="ttname"><a href="afhba__stream__drv_8h.html#a501cdc1ad7581bfe972a424488e9cb4e">afs_init_procfs</a></div><div class="ttdeci">int afs_init_procfs(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afs__procfs_8c_source.html#l00296">afs_procfs.c:296</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a793814123d1238a02935038280a615a3"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a793814123d1238a02935038280a615a3">AFHBA_STREAM_DEV::JOB::please_stop</a></div><div class="ttdeci">int please_stop</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00094">afhba_stream_drv.h:94</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a35230d84ac62704fef00f2320e1273f1"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a35230d84ac62704fef00f2320e1273f1">AFHBA_STREAM_DEV::JOB::int_previous</a></div><div class="ttdeci">unsigned int_previous</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00096">afhba_stream_drv.h:96</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ae80bcb24ed63c2e1416b20359d4684b0"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ae80bcb24ed63c2e1416b20359d4684b0">AFHBA_STREAM_DEV::aurora_fail_detected</a></div><div class="ttdeci">bool aurora_fail_detected</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00145">afhba_stream_drv.h:145</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a3dbafa9a98192f8ca20e3d5b2d5d737d"><div class="ttname"><a href="afhba__stream__drv_8h.html#a3dbafa9a98192f8ca20e3d5b2d5d737d">afs_comms_ready</a></div><div class="ttdeci">int afs_comms_ready(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00773">afhba_stream_drv.c:773</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a21397526cf29b19ce7b8b7a74426e287"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a21397526cf29b19ce7b8b7a74426e287">AFHBA_STREAM_DEV::JOB::buffers_queued</a></div><div class="ttdeci">unsigned buffers_queued</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00091">afhba_stream_drv.h:91</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a988df5b17dfdbc50f46121ad71944be6"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a988df5b17dfdbc50f46121ad71944be6">AFHBA_STREAM_DEV::JOB::buffers_received</a></div><div class="ttdeci">unsigned buffers_received</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00092">afhba_stream_drv.h:92</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_ad98c1c1d8e4b25d29c0505e61b26c257"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#ad98c1c1d8e4b25d29c0505e61b26c257">AFHBA_STREAM_DEV::JOB::rx_rate</a></div><div class="ttdeci">unsigned rx_rate</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00097">afhba_stream_drv.h:97</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a2d98a3edfa60ca2625d533320198c654"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a2d98a3edfa60ca2625d533320198c654">AFHBA_STREAM_DEV::JOB::catchup_histo</a></div><div class="ttdeci">unsigned catchup_histo[NBUFFERS]</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00102">afhba_stream_drv.h:102</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a6a52a55eaf39d9f9ed5bdf64bf77ca86"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a6a52a55eaf39d9f9ed5bdf64bf77ca86">AFHBA_STREAM_DEV::JOB::int_rate</a></div><div class="ttdeci">unsigned int_rate</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00098">afhba_stream_drv.h:98</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_adc49ed04231db0e41efe0fc5c25ca7ff"><div class="ttname"><a href="afhba__stream__drv_8h.html#adc49ed04231db0e41efe0fc5c25ca7ff">_afs_read_pcireg</a></div><div class="ttdeci">u32 _afs_read_pcireg(struct AFHBA_DEV *adev, int regoff)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00332">afhba_stream_drv.c:332</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html">AFHBA_STREAM_DEV::JOB</a></div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00089">afhba_stream_drv.h:89</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a0e0676f7f349cd38b06aa96116a00674"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a0e0676f7f349cd38b06aa96116a00674">AFHBA_STREAM_DEV::return_waitq</a></div><div class="ttdeci">wait_queue_head_t return_waitq</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00128">afhba_stream_drv.h:128</a></div></div>
<div class="ttc" id="astructAFHBA__DEV_html"><div class="ttname"><a href="structAFHBA__DEV.html">AFHBA_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="acq-fiber-hba_8h_source.html#l00111">acq-fiber-hba.h:111</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a831db746d540bedda70579bb4b851987"><div class="ttname"><a href="afhba__stream__drv_8h.html#a831db746d540bedda70579bb4b851987">_afs_write_comreg</a></div><div class="ttdeci">void _afs_write_comreg(struct AFHBA_DEV *adev, int regoff, u32 value)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00296">afhba_stream_drv.c:296</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_af794c6caef1967dcb9dbaa9494eb8529"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#af794c6caef1967dcb9dbaa9494eb8529">AFHBA_STREAM_DEV::job</a></div><div class="ttdeci">struct AFHBA_STREAM_DEV::JOB job</div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a14b5900655ecadbd3854fb2d76a5a529"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a14b5900655ecadbd3854fb2d76a5a529">AFHBA_STREAM_DEV::onStopPush</a></div><div class="ttdeci">void(* onStopPush)(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00135">afhba_stream_drv.h:135</a></div></div>
<div class="ttc" id="astructAO__BURST__DEV_html_af2ad06d208ce62c5574477d8f4281545"><div class="ttname"><a href="structAO__BURST__DEV.html#af2ad06d208ce62c5574477d8f4281545">AO_BURST_DEV::w_waitq</a></div><div class="ttdeci">wait_queue_head_t w_waitq</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00156">afhba_stream_drv.h:156</a></div></div>
<div class="ttc" id="astructAO__BURST__DEV_html"><div class="ttname"><a href="structAO__BURST__DEV.html">AO_BURST_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00154">afhba_stream_drv.h:154</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a1f89c4bfd5f3064a056c1c0e7719d61d"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a1f89c4bfd5f3064a056c1c0e7719d61d">AFHBA_STREAM_DEV::JOB::dma_started</a></div><div class="ttdeci">int dma_started</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00103">afhba_stream_drv.h:103</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba920b6a00e88c60986b1f23fda4fd6092"><div class="ttname"><a href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba920b6a00e88c60986b1f23fda4fd6092">PS_PLEASE_STOP</a></div><div class="ttdeci">@ PS_PLEASE_STOP</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00053">afhba_stream_drv.h:53</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a5a27cab06b6891f25d52da9de6591807"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a5a27cab06b6891f25d52da9de6591807">AFHBA_STREAM_DEV::JOB::errors</a></div><div class="ttdeci">unsigned errors</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00099">afhba_stream_drv.h:99</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1BOTTLING__PLANT_html_a5a20833a73997d24e8566f7c61227fa4"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html#a5a20833a73997d24e8566f7c61227fa4">AFHBA_STREAM_DEV::BOTTLING_PLANT::proc</a></div><div class="ttdeci">struct proc_dir_entry * proc</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00072">afhba_stream_drv.h:72</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a69af530078a5a8e89302818d11f63b50"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a69af530078a5a8e89302818d11f63b50">AFHBA_STREAM_DEV::buffer_len</a></div><div class="ttdeci">int buffer_len</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00083">afhba_stream_drv.h:83</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1BOTTLING__PLANT_html_aba8383992a2a58d0f471267488e5999d"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1BOTTLING__PLANT.html#aba8383992a2a58d0f471267488e5999d">AFHBA_STREAM_DEV::BOTTLING_PLANT::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00151">afhba_stream_drv.h:71</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a3eff1e164dbd0693ab010f032d5ece7d"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a3eff1e164dbd0693ab010f032d5ece7d">AFHBA_STREAM_DEV::comms_init_done</a></div><div class="ttdeci">int comms_init_done</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00141">afhba_stream_drv.h:141</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a1962c6439a94ecb2957e2e0faf0b0a8b"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a1962c6439a94ecb2957e2e0faf0b0a8b">AFHBA_STREAM_DEV::work</a></div><div class="ttdeci">struct AFHBA_STREAM_DEV::WORK work</div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1WORK_html_a6f997ad8e4b56d181960ed0323ef4967"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1WORK.html#a6f997ad8e4b56d181960ed0323ef4967">AFHBA_STREAM_DEV::WORK::w_task</a></div><div class="ttdeci">struct task_struct * w_task</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00123">afhba_stream_drv.h:123</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html">AFHBA_STREAM_DEV</a></div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00066">afhba_stream_drv.h:66</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a233c0342a175dad7cc8fd99630980cae"><div class="ttname"><a href="afhba__stream__drv_8h.html#a233c0342a175dad7cc8fd99630980cae">_afs_read_dmareg</a></div><div class="ttdeci">u32 _afs_read_dmareg(struct AFHBA_DEV *adev, int regoff)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00313">afhba_stream_drv.c:313</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_aeaa2f5cf0e00f6068cc4e7ad604ff73b"><div class="ttname"><a href="afhba__stream__drv_8h.html#aeaa2f5cf0e00f6068cc4e7ad604ff73b">__afs_dma_reset</a></div><div class="ttdeci">void __afs_dma_reset(struct AFHBA_DEV *adev, u32 dma_sel)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00555">afhba_stream_drv.c:555</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ab3ee92d435b5a7b67575f245ba4f19f1"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ab3ee92d435b5a7b67575f245ba4f19f1">AFHBA_STREAM_DEV::data_fifo_histo</a></div><div class="ttdeci">unsigned * data_fifo_histo</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00115">afhba_stream_drv.h:115</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_aa640f4215ec3a00abad8f9eb77ab07d7"><div class="ttname"><a href="afhba__stream__drv_8h.html#aa640f4215ec3a00abad8f9eb77ab07d7">__afs_start_dma</a></div><div class="ttdeci">void __afs_start_dma(struct AFHBA_DEV *adev, u32 dma_sel)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00570">afhba_stream_drv.c:570</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_ac83d091ab036b708efc9175ef7d78868"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#ac83d091ab036b708efc9175ef7d78868">AFHBA_STREAM_DEV::pid</a></div><div class="ttdeci">unsigned pid</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00132">afhba_stream_drv.h:132</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa96573d50dc3041d671bf8f7d7ee1748ac04139ae967089e7b19cb54a0a87b538"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa96573d50dc3041d671bf8f7d7ee1748ac04139ae967089e7b19cb54a0a87b538">AFHBA_STREAM_DEV::ZI_BAD</a></div><div class="ttdeci">@ ZI_BAD</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00148">afhba_stream_drv.h:148</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_a8246f4c178eab2ce654ae396dd6196dd"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#a8246f4c178eab2ce654ae396dd6196dd">AFHBA_STREAM_DEV::push_ram_cursor</a></div><div class="ttdeci">int push_ram_cursor</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00136">afhba_stream_drv.h:136</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a06fc87d81c62e9abb8790b6e5713c55ba6449fd08f989996467f5eb63990f233b"><div class="ttname"><a href="afhba__stream__drv_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6449fd08f989996467f5eb63990f233b">PS_STOP_DONE</a></div><div class="ttdeci">@ PS_STOP_DONE</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00053">afhba_stream_drv.h:53</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_ae6bdfc093685df3cf8907ff68d25da21"><div class="ttname"><a href="afhba__stream__drv_8h.html#ae6bdfc093685df3cf8907ff68d25da21">afs_reset_buffers</a></div><div class="ttdeci">int afs_reset_buffers(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l01390">afhba_stream_drv.c:1390</a></div></div>
<div class="ttc" id="astructHostBuffer_html"><div class="ttname"><a href="structHostBuffer.html">HostBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="acq-fiber-hba_8h_source.html#l00094">acq-fiber-hba.h:94</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_html_aa4298e42d4d8ccffd10f6b856be018d1"><div class="ttname"><a href="structAFHBA__STREAM__DEV.html#aa4298e42d4d8ccffd10f6b856be018d1">AFHBA_STREAM_DEV::user</a></div><div class="ttdeci">void * user</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00151">afhba_stream_drv.h:151</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_aaecffe67daf66cd1b02fa7c824127fbd"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#aaecffe67daf66cd1b02fa7c824127fbd">AFHBA_STREAM_DEV::JOB::on_pull_dma_timeout</a></div><div class="ttdeci">int(* on_pull_dma_timeout)(struct AFHBA_DEV *adev)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00108">afhba_stream_drv.h:108</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1WORK_html"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1WORK.html">AFHBA_STREAM_DEV::WORK</a></div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00120">afhba_stream_drv.h:120</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a2668d591e386f01f8aa081e6c4afa02e"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a2668d591e386f01f8aa081e6c4afa02e">AFHBA_STREAM_DEV::JOB::buffers_demand</a></div><div class="ttdeci">unsigned buffers_demand</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00090">afhba_stream_drv.h:90</a></div></div>
<div class="ttc" id="alocal_8h_html_ae0a7c37f5a766b8e881b7ca59f579d01"><div class="ttname"><a href="local_8h.html#ae0a7c37f5a766b8e881b7ca59f579d01">u32</a></div><div class="ttdeci">unsigned u32</div><div class="ttdef"><b>Definition:</b> <a href="local_8h_source.html#l00060">local.h:60</a></div></div>
<div class="ttc" id="aafhba__stream__drv_8h_html_a22da44f681fa5bf421fb8b174d75f661"><div class="ttname"><a href="afhba__stream__drv_8h.html#a22da44f681fa5bf421fb8b174d75f661">_afs_write_dmareg</a></div><div class="ttdeci">void _afs_write_dmareg(struct AFHBA_DEV *adev, int regoff, u32 value)</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8c_source.html#l00304">afhba_stream_drv.c:304</a></div></div>
<div class="ttc" id="astructAFHBA__STREAM__DEV_1_1JOB_html_a8a9b9fd57bc8eae0c32c85c83f0310c0"><div class="ttname"><a href="structAFHBA__STREAM__DEV_1_1JOB.html#a8a9b9fd57bc8eae0c32c85c83f0310c0">AFHBA_STREAM_DEV::JOB::ints</a></div><div class="ttdeci">unsigned ints</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00093">afhba_stream_drv.h:93</a></div></div>
<div class="ttc" id="astructAO__BURST__DEV_html_ab94af56ca33c2412ff795cd96d38ffe9"><div class="ttname"><a href="structAO__BURST__DEV.html#ab94af56ca33c2412ff795cd96d38ffe9">AO_BURST_DEV::w_task</a></div><div class="ttdeci">struct task_struct * w_task</div><div class="ttdef"><b>Definition:</b> <a href="afhba__stream__drv_8h_source.html#l00157">afhba_stream_drv.h:157</a></div></div>
<div class="ttc" id="aacq-fiber-hba_8h_html_a4197530ae6b3346313f06b487a5853d6abe1e04676aba20ba77556bc1290ee1cf"><div class="ttname"><a href="acq-fiber-hba_8h.html#a4197530ae6b3346313f06b487a5853d6abe1e04676aba20ba77556bc1290ee1cf">DMA_REGS_COUNT</a></div><div class="ttdeci">@ DMA_REGS_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="acq-fiber-hba_8h_source.html#l00309">acq-fiber-hba.h:309</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
