<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AFHBA404: STREAM/rtm-t-stream-disk.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AFHBA404
   </div>
   <div id="projectbrief">AFHBA404 connects ACQ2106 to PCI-Express</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5df1ee3f4abd9e2663f296a3ccd0252a.html">STREAM</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">rtm-t-stream-disk.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="rtm-t-stream-disk_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* ------------------------------------------------------------------------- */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* rtm-t-stream-disk.cpp RTM-T PCIe Host Side test app                       */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* ------------------------------------------------------------------------- */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*   Copyright (C) 2010 Peter Milne, D-TACQ Solutions Ltd</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                      &lt;Peter dot Milne at D hyphen TACQ dot com&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">    it under the terms of Version 2 of the GNU General Public License</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">    as published by the Free Software Foundation;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.                */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* ------------------------------------------------------------------------- */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;sched.h&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//using namespace std;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RTM__T__Device_8h.html">RTM_T_Device.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STREAM_2local_8h.html">local.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;popt.h&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rtm-t__ioctl_8h.html">rtm-t_ioctl.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/* default implementation is NULL */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InlineDataHandler_8h.html">InlineDataHandler.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#define DIAG(args...)</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">   56</a></span>&#160;<span class="comment">//#define DIAG(args...) fprintf(stderr, args)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/* default: never completes */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">   59</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">MAXITER</a>        = 0xffffffff;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a272a80d2c512d1d3e9951486ea6f5aa5">   60</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a272a80d2c512d1d3e9951486ea6f5aa5">MAXITER_MASK</a>       = 0x7fffffff;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">   63</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a> = <a class="code" href="classRTM__T__Device.html#a41d9e7d5e9cb61933ca734fe65738082ae455e6f97b8d4d65662af61e31ba7c0a">RTM_T_Device::MAXBUF</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">   64</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a> = 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">   65</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a> = 0;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a04a1e6004626dd3ea784f96986dcd622">   66</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a04a1e6004626dd3ea784f96986dcd622">CONCAT</a> = 0;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">   68</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">SSIZE</a> = <span class="keyword">sizeof</span>(short) * 96;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a0a2d59880bbb20fd6d770084cb2cfa2c">   70</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a0a2d59880bbb20fd6d770084cb2cfa2c">acq200_debug</a> = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">   72</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a> = <span class="stringliteral">&quot;/mnt&quot;</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">static</span> <a class="code" href="classRTM__T__Device.html">RTM_T_Device</a> *dev;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">   77</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">   78</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">RECYCLE</a> = 0;        <span class="comment">/* accumulate by default */</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a576a9928e19e84b86ee169856dcf8bd5">   79</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a576a9928e19e84b86ee169856dcf8bd5">NO_OVERWRITE</a> = 0;       <span class="comment">/* refuse to allow buffer overwrite */</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#define WRITE_LEN_ALL -1</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a7c080f4cd28e58c2e6e2d5ad34542226">   81</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a> = <a class="code" href="rtm-t-stream-disk_8cpp.html#a7c080f4cd28e58c2e6e2d5ad34542226">WRITE_LEN_ALL</a>;      <span class="comment">/* don&#39;t write data at all .. */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#acb46bad64561473c98da36c1fa18b543">   82</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#acb46bad64561473c98da36c1fa18b543">MAXINT</a> = 999999;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a68581a1c7de63f6e4f7ca8d4e3210d50">   83</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a68581a1c7de63f6e4f7ca8d4e3210d50">PUT_DATA</a> = 1;       <span class="comment">/* output name of data buffer, not id */</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">   84</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a> = 0;          <span class="comment">/* !=) ? stop after this many buffers */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">   85</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">PUT4KPERFILE</a> = 0;       <span class="comment">/* fake 4MB output for pv to measure at /1000 */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a32d8a635c7a7dad6934c3f5cbf52e0b6">   86</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a32d8a635c7a7dad6934c3f5cbf52e0b6">OUTPUT_META</a> = 0;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structSEQ.html">   88</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSEQ.html">SEQ</a> {</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">   89</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">   90</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">buffers</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a804985ef1a989863dc8691520b62dd7c">   92</a></span>&#160;    <a class="code" href="rtm-t-stream-disk_8cpp.html#a804985ef1a989863dc8691520b62dd7c">SEQ</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/* number of buffers to transfer - set on command line or use module knob. */</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">   95</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> htime(<span class="keywordtype">void</span>){</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct </span>timeval t0;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> t0_valid;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">struct </span>timeval t1, td;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">struct </span>timeval carry = { 0, 0 };</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (!t0_valid){</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        gettimeofday(&amp;t0, 0);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        t0_valid = 1;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    gettimeofday(&amp;t1, 0);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (t1.tv_usec &lt; t0.tv_usec){</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        carry.tv_usec = 1000000;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        carry.tv_sec = 1;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    td.tv_usec =    t1.tv_usec  + carry.tv_usec - t0.tv_usec;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    td.tv_sec = t1.tv_sec   - carry.tv_sec  - t0.tv_sec;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">double</span> tds = td.tv_sec + (double)(td.tv_usec)/1000000;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> tds;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> write_meta(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> ibuf, <span class="keywordtype">int</span> nbuf)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="namespaceG.html#a905277e37deb267c650d895144633e72">nsamples</a> = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)nbuf * dev-&gt;<a class="code" href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">maxlen</a> / <a class="code" href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">SSIZE</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">char</span> buf[128];</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    snprintf(buf, 128,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="stringliteral">&quot;IBUF=%d\n&quot;</span> <span class="stringliteral">&quot;NBUF=%d\n&quot;</span> <span class="stringliteral">&quot;NSAMPLES=%llu\n&quot;</span> <span class="stringliteral">&quot;HTIME=%.3f\n&quot;</span>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         ibuf, nbuf, <a class="code" href="namespaceG.html#a905277e37deb267c650d895144633e72">nsamples</a>, htime());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> write(fd, buf, strlen(buf));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a487a737cd1ca567b2c514182514b424e">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a487a737cd1ca567b2c514182514b424e">fail_if_exists</a>(<span class="keywordtype">char</span> *buf)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">struct </span>stat stat_buf;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">int</span> rc = stat(buf, &amp;stat_buf);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;stat:rc %d errno %d\n&quot;</span>, rc, errno);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (rc == 0){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="local_8h.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>(<span class="stringliteral">&quot;OVERRUN: NO_OVERWRITE SET and \&quot;%s\&quot; exists&quot;</span>, buf);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        exit(1);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno != ENOENT){</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="local_8h.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>(<span class="stringliteral">&quot;OVERRUN: NO_OVERWRITE SET and \&quot;%s\&quot; exists&quot;</span>, buf);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        perror(<span class="stringliteral">&quot;buf&quot;</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        exit(errno);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        ;   <span class="comment">/* ENOENT - that&#39;s good! */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#define O_MODE  (O_WRONLY|O_CREAT|O_TRUNC)</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#aa10b6e2b3382511e49d56239e18da33d">  150</a></span>&#160;<span class="preprocessor">#define PERM    (S_IRUSR|S_IWUSR|S_IRGRP|S_IROTH)</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#ac807e65b8c2cf0d924823993c5d3e99d">  151</a></span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">  152</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">icat</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">  153</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor">#define OUTROOTFMT  &quot;%s/%06d/&quot;</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a1aa114e93834d2c3da2ba0215b51d6fe">  156</a></span>&#160;<span class="preprocessor">#define OUTFMT2     &quot;%s/%06d/%d.%02d&quot;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a9590bb5d5810093f36114720fda86ddc">  157</a></span>&#160;<span class="preprocessor">#define OUTFMT3     &quot;%s/%06d/%d.%03d&quot;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a11702c8164eb119001554eb15f87750e">  158</a></span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a33b9bc1e6474c6269ce22121074933fd">  159</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="rtm-t-stream-disk_8cpp.html#a33b9bc1e6474c6269ce22121074933fd">outfmt</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">  161</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">buf4k</a>[4096];</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">  164</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a>(<span class="keywordtype">int</span> <a class="code" href="InlineDataHandlerMuxAO__LLC_8cpp.html#a264d7907938e52414f6007ea28c2d0c9">ib</a>) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    ++<a class="code" href="InlineDataHandlerMuxAO__LLC_8cpp.html#a264d7907938e52414f6007ea28c2d0c9">ib</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="InlineDataHandlerMuxAO__LLC_8cpp.html#a264d7907938e52414f6007ea28c2d0c9">ib</a> &gt;= dev-&gt;<a class="code" href="classRTM__T__Device.html#a3191f2f7156f4c88af45dcef88b36abc">nbuffers</a>? 0: <a class="code" href="InlineDataHandlerMuxAO__LLC_8cpp.html#a264d7907938e52414f6007ea28c2d0c9">ib</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#define MAXHN 1024</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a2acf67c26c54f9266d7be11d7ca66f82">  170</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="rtm-t-stream-disk_8cpp.html#a082c8926d32f392f792311e8b06ffdbb">hostname</a>()</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> hn[<a class="code" href="rtm-t-stream-disk_8cpp.html#a2acf67c26c54f9266d7be11d7ca66f82">MAXHN</a>];</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    gethostname(hn, <a class="code" href="rtm-t-stream-disk_8cpp.html#a2acf67c26c54f9266d7be11d7ca66f82">MAXHN</a>-1);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> hn;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classHisto.html">  177</a></span>&#160;<span class="keyword">class </span><a class="code" href="classHisto.html">Histo</a> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">unsigned</span> *hg;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> maxbins;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classHisto.html#a9fbda5a4785b074eadafaae9305a7579">  181</a></span>&#160;    <a class="code" href="classHisto.html#a9fbda5a4785b074eadafaae9305a7579">Histo</a>(<span class="keywordtype">int</span> _maxbins = <a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a>) :</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        hg(new unsigned[_maxbins]),</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        maxbins(_maxbins)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; maxbins; ++ii){</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            hg[ii] = 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classHisto.html#a1948db12f05f8728c43694f42ed07149">  189</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classHisto.html#a1948db12f05f8728c43694f42ed07149">print</a>(){</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii = 0; ii &lt; maxbins; ++ii){</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%5d%c&quot;</span>, hg[ii], ii+1 &gt;= maxbins? <span class="charliteral">&#39;\n&#39;</span>: <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classHisto.html#adc04a8e0080b3eff64ebddbd6d81dd86">  194</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="classHisto.html#adc04a8e0080b3eff64ebddbd6d81dd86">operator() </a>(<span class="keywordtype">unsigned</span> bin){</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (bin &gt;= maxbins){</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            bin = maxbins - 1;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> hg[bin]++;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> writeSBD(<span class="keyword">struct</span> <a class="code" href="structStreamBufferDef.html">StreamBufferDef</a>* sbd, <span class="keyword">const</span> <span class="keywordtype">char</span>* data_fname)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">static</span> FILE *fp;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structStreamBufferDef.html">StreamBufferDef</a> old;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (fp == 0){</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordtype">char</span> buf[128];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        sprintf(buf, <span class="stringliteral">&quot;%s/err.log&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        fp = fopen(buf, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (fp == 0){</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;ERROR failed to open file \&quot;%s\&quot;\n&quot;</span>, buf);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            exit(1);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        old = *sbd;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;%s,%08x,%08x,%d,%d,%d,%s\n&quot;</span>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            data_fname,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, sbd-&gt;<a class="code" href="structStreamBufferDef.html#adfe82ebd5f796f482951be6568f0f824">esta</a>,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#a648e8c1d61f2a73f3937cbb49f6ce461">IBUF_IBUF</a>,</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            (sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#a8c97b390b5ee2b9b369591b183b0a1f1">IBUF_IDX</a>)&gt;&gt;<a class="code" href="rtm-t__ioctl_8h.html#ab7a491c99e8480baa78b2f4bd8343e12">IBUF_IDX_SHL</a>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            sbd-&gt;<a class="code" href="structStreamBufferDef.html#adfe82ebd5f796f482951be6568f0f824">esta</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#a648e8c1d61f2a73f3937cbb49f6ce461">IBUF_IBUF</a>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            (sbd-&gt;<a class="code" href="structStreamBufferDef.html#adfe82ebd5f796f482951be6568f0f824">esta</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#a0d30bf4b97e037f302faa0fddeff3810">ESTA_CRC</a>)-(old.esta&amp;<a class="code" href="rtm-t__ioctl_8h.html#a0d30bf4b97e037f302faa0fddeff3810">ESTA_CRC</a>)&lt;2? <span class="stringliteral">&quot;OK&quot;</span>: <span class="stringliteral">&quot;ERR&quot;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    old = *sbd;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> process(<span class="keywordtype">int</span> <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, <span class="keywordtype">int</span> nbuf, <span class="keyword">struct</span> <a class="code" href="structStreamBufferDef.html">StreamBufferDef</a> *sbd){</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a> == 1){</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>%10 == 0){</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%c&quot;</span>, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>==0? <span class="charliteral">&#39;\r&#39;</span>: <span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            fflush(stderr);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a> == 2){</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">int</span> cycle;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a> == 0){</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;\r%06d&quot;</span>, cycle++);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            fflush(stderr);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a> &gt; 2){</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;%02d\n&quot;</span>, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> data_fname[80];</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> old_fname[80];</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">char</span> buf[80];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> _ibuf = -1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">if</span> (_ibuf != -1){</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a>(_ibuf) != <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>){</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a>++;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a> &lt; 10){</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a>(<a class="code" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a>(_ibuf)) == <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a> || <a class="code" href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a>(<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>) == _ibuf){</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                    fprintf(stderr, <span class="stringliteral">&quot;WARNING potential buffer cycle detected %lu/%lu skip %d &gt; %d\n&quot;</span>,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a>, <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">buffers</a>, _ibuf, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    fprintf(stderr, <span class="stringliteral">&quot;ERROR: buffer %lu/%lu skip %d -&gt; %d\n&quot;</span>,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                                    <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a>, <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">buffers</a>, _ibuf, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">buffers</a>++;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    _ibuf = <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">icat</a> == 0){</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        sprintf(buf, <a class="code" href="rtm-t-stream-disk_8cpp.html#a1aa114e93834d2c3da2ba0215b51d6fe">OUTROOTFMT</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        mkdir(buf, 0777);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        sprintf(data_fname, <a class="code" href="rtm-t-stream-disk_8cpp.html#a33b9bc1e6474c6269ce22121074933fd">outfmt</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a>,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                dev-&gt;<a class="code" href="classRTM__T__Device.html#a65e3b8c646829574ef3a34897552d6d7">getDevnum</a>(), <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a> = open(data_fname, <a class="code" href="rtm-t-stream-disk_8cpp.html#aa10b6e2b3382511e49d56239e18da33d">O_MODE</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#ac807e65b8c2cf0d924823993c5d3e99d">PERM</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a> == -1){</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            perror(buf);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            _exit(errno);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        writeSBD(sbd, data_fname);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a32d8a635c7a7dad6934c3f5cbf52e0b6">OUTPUT_META</a>){</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            strcpy(buf, data_fname);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            strcat(buf, <span class="stringliteral">&quot;.id&quot;</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="keywordtype">int</span> out_meta = open(buf, <a class="code" href="rtm-t-stream-disk_8cpp.html#aa10b6e2b3382511e49d56239e18da33d">O_MODE</a>, <a class="code" href="rtm-t-stream-disk_8cpp.html#ac807e65b8c2cf0d924823993c5d3e99d">PERM</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            write_meta(out_meta, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, nbuf);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            close(out_meta);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a576a9928e19e84b86ee169856dcf8bd5">NO_OVERWRITE</a>){</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a487a737cd1ca567b2c514182514b424e">fail_if_exists</a>(data_fname);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a> != 0){</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordtype">int</span> len = <a class="code" href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a> == <a class="code" href="rtm-t-stream-disk_8cpp.html#a7c080f4cd28e58c2e6e2d5ad34542226">WRITE_LEN_ALL</a>? dev-&gt;<a class="code" href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">maxlen</a>: <a class="code" href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordtype">int</span> rc = write(<a class="code" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a>, dev-&gt;<a class="code" href="classRTM__T__Device.html#a0c4c3aca22bdf81788601d5408ffdcc1">getHostBufferMapping</a>(<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>), len);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (rc != len){</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            perror(<span class="stringliteral">&quot;write fail&quot;</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            exit(1);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span> (++<a class="code" href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">icat</a> &gt; <a class="code" href="rtm-t-stream-disk_8cpp.html#a04a1e6004626dd3ea784f96986dcd622">CONCAT</a>){</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        close(<a class="code" href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a>);       <span class="comment">/* close data last - we monitor this one */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a68581a1c7de63f6e4f7ca8d4e3210d50">PUT_DATA</a>){</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">if</span> (strlen(old_fname)){</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">PUT4KPERFILE</a>){</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    strcpy(<a class="code" href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">buf4k</a>, old_fname);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    strcat(<a class="code" href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">buf4k</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    fwrite(<a class="code" href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">buf4k</a>, 1, <a class="code" href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">PUT4KPERFILE</a>, stdout);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    fflush(stdout);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    puts(old_fname);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            strcpy(old_fname, data_fname);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">icat</a> = 0;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a>){</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        usleep(<a class="code" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a7ba326b3b965789e33765b6d8b15499c">  325</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a7ba326b3b965789e33765b6d8b15499c">getBufNo</a>(<a class="code" href="structStreamBufferDef.html">StreamBufferDef</a>* sbd)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> ((sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#af0941a6c2a5692c0cf453b134692fcda">IBUF_MAGIC_MASK</a>) != <a class="code" href="rtm-t__ioctl_8h.html#abfe199ab45deb75175115f684839a4db">IBUF_MAGIC</a>){</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;ERROR NOT IBUF_MAGIC %08x %08x\n&quot;</span>,</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, sbd-&gt;<a class="code" href="structStreamBufferDef.html#adfe82ebd5f796f482951be6568f0f824">esta</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        exit(1);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">return</span> sbd-&gt;<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>&amp;<a class="code" href="rtm-t__ioctl_8h.html#a648e8c1d61f2a73f3937cbb49f6ce461">IBUF_IBUF</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespacertm-t-stream.html#aa9560f265c21198e31afe3be3e7d4d40">stream</a>()</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordtype">unsigned</span> iter = 0;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">struct </span><a class="code" href="structStreamBufferDef.html">StreamBufferDef</a> sbd[<a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a>];</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">int</span> fp = dev-&gt;<a class="code" href="classRTM__T__Device.html#a22c7acd623faa9ba543bf0925dc86fa1">getDeviceHandle</a>();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> ifirst = <a class="code" href="rtm-t-stream-disk_8cpp.html#acb46bad64561473c98da36c1fa18b543">MAXINT</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">int</span> nbuf = 0;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classHisto.html">Histo</a> backlog(16);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="classInlineDataHandler.html">InlineDataHandler</a>* handler = <a class="code" href="classInlineDataHandler.html#ab9c70282b05673bee67b774238287016">InlineDataHandler::factory</a>(dev);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">int</span> rc = ioctl(fp, <a class="code" href="rtm-t__ioctl_8h.html#abb9bab76828a04f4226921f44e1608e6">RTM_T_START_STREAM_MAX</a>, &amp;<a class="code" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">if</span> (rc != 0){</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        perror(<span class="stringliteral">&quot;ioctl RTM_T_START_STREAM failed&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        exit(errno);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">while</span> (iter &lt; <a class="code" href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">MAXITER</a>){</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;CALLING read\n&quot;</span>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordtype">int</span> nread = read(fp, sbd, <a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a>*<a class="code" href="rtm-t__ioctl_8h.html#ac2646c00606a92c624fd5e8b2bb526ab">SBDSZ</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;  read returned %d\n&quot;</span>, nread);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">if</span> (nread &gt; 0){</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keywordtype">int</span> nb = nread/<a class="code" href="rtm-t__ioctl_8h.html#ac2646c00606a92c624fd5e8b2bb526ab">SBDSZ</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            backlog(nb);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a> = 0; <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a> &lt; nb; ++<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>){</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="keywordtype">int</span> nwrite = <span class="keyword">sizeof</span>(int);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordtype">int</span> bufno = <a class="code" href="rtm-t-stream-disk_8cpp.html#a7ba326b3b965789e33765b6d8b15499c">getBufNo</a>(sbd+<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">if</span> (bufno &lt;= ifirst ){</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    ifirst = bufno;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">RECYCLE</a> == 0){</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        ++<a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                        <span class="keywordflow">if</span> (++<a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a> &gt;= <a class="code" href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">RECYCLE</a>){</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                            <a class="code" href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a>=0;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                handler-&gt;<a class="code" href="classInlineDataHandler.html#a585bdd3226a6771ec94ca6ee9d2a488d">handleBuffer</a>(<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, dev-&gt;<a class="code" href="classRTM__T__Device.html#a0c4c3aca22bdf81788601d5408ffdcc1">getHostBufferMapping</a>(<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>), dev-&gt;<a class="code" href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">maxlen</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;CALLING process\n&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                process(bufno, ++nbuf, sbd+<a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <a class="code" href="local_8h.html#aa91fbb7a1131706ff77fe51dd9903199">dbg</a>(2, <span class="stringliteral">&quot;write [%d] %d\n&quot;</span>, <a class="code" href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">ibuf</a>, bufno);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;CALLING write\n&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">if</span> (write(fp, &amp;bufno, nwrite) != nwrite ){</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    perror(<span class="stringliteral">&quot;write failed&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a> &amp;&amp; nbuf &gt;= <a class="code" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a>){</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    printf(<span class="stringliteral">&quot;NBUFS %d reached, quitting now\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    <span class="keywordflow">goto</span> all_done;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            perror(<span class="stringliteral">&quot;read error&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">goto</span> on_error;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        iter = ++iter&amp;<a class="code" href="rtm-t-stream-disk_8cpp.html#a272a80d2c512d1d3e9951486ea6f5aa5">MAXITER_MASK</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;on_error:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;all_done:</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%s rtm-t-stream-disk finish %lu seq errors in %lu buffers\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a082c8926d32f392f792311e8b06ffdbb">hostname</a>(), <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">errors</a>, <a class="code" href="structSEQ.html">SEQ</a>.<a class="code" href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">buffers</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    backlog.print();</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a>(<span class="stringliteral">&quot;all done\n&quot;</span>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> run_stop_monitor(<span class="keywordtype">char</span> *monitor)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">/* actually, this is unnecessary since capture will stop on timeout</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">     * however, it could be useful for a rapid exit.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">     * it&#39;s anticipated that monitor is an expect script blocking on the</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">     * statemon service from ACQ.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordtype">int</span> ppid = getpid();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (fork() == 0){</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordtype">char</span> arg1[20];</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        sprintf(arg1, <span class="stringliteral">&quot;%d&quot;</span>, ppid);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;monitor: %s %s\n&quot;</span>, monitor, arg1);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordtype">int</span> rc = execlp(monitor, basename(monitor), arg1, (<span class="keywordtype">char</span>*)NULL);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> (rc){</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            perror(<span class="stringliteral">&quot;execlp failed&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a6ca75f4f222408d3dc04d1ec934fa7d0">  431</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a6ca75f4f222408d3dc04d1ec934fa7d0">setRtPrio</a>(<span class="keywordtype">int</span> prio)</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;{</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keyword">struct </span>sched_param prams = {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    };</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    prams.sched_priority = prio;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordtype">int</span> rc = sched_setscheduler(0, SCHED_FIFO, &amp;prams);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (rc != 0){</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        perror(<span class="stringliteral">&quot;sched_setscheduler()&quot;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> init_defaults(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordtype">int</span> devnum = 0;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_DEVNUM&quot;</span>)){</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        devnum = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_DEVNUM&quot;</span>));</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    dev = <span class="keyword">new</span> <a class="code" href="classRTM__T__Device.html">RTM_T_Device</a>(devnum);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="rtm-t-stream-disk_8cpp.html#a33b9bc1e6474c6269ce22121074933fd">outfmt</a> = dev-&gt;<a class="code" href="classRTM__T__Device.html#a3191f2f7156f4c88af45dcef88b36abc">nbuffers</a> &gt; 99? <a class="code" href="rtm-t-stream-disk_8cpp.html#a11702c8164eb119001554eb15f87750e">OUTFMT3</a>: <a class="code" href="rtm-t-stream-disk_8cpp.html#a9590bb5d5810093f36114720fda86ddc">OUTFMT2</a>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_MAXITER&quot;</span>)){</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">MAXITER</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_MAXITER&quot;</span>));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;MAXITER set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">MAXITER</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_NELEMS&quot;</span>)){</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_NELEMS&quot;</span>));</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;NELEMS set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_DEBUG&quot;</span>)){</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a0a2d59880bbb20fd6d770084cb2cfa2c">acq200_debug</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_DEBUG&quot;</span>));</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;DEBUG set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a0a2d59880bbb20fd6d770084cb2cfa2c">acq200_debug</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_USLEEP&quot;</span>)){</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_USLEEP&quot;</span>));</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;USLEEP set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_VERBOSE&quot;</span>)){</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_VERBOSE&quot;</span>));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;VERBOSE set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a>);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_PUT_DATA&quot;</span>)){</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a68581a1c7de63f6e4f7ca8d4e3210d50">PUT_DATA</a>=atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTM_PUT_DATA&quot;</span>));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;SSIZE&quot;</span>)){</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">SSIZE</a> = atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;SSIZE&quot;</span>));</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;SSIZE set %d\n&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">SSIZE</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTPRIO&quot;</span>)){</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a6ca75f4f222408d3dc04d1ec934fa7d0">setRtPrio</a>(atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RTPRIO&quot;</span>)));</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;OUTROOT&quot;</span>)){</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a>=<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;OUTROOT&quot;</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;NBUFS&quot;</span>)){</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a>=atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;NBUFS&quot;</span>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RECYCLE&quot;</span>)){</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">RECYCLE</a>=atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;RECYCLE&quot;</span>));</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;WRITE_LEN&quot;</span>)){</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a> = atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;WRITE_LEN&quot;</span>));</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;NO_OVERWRITE&quot;</span>)){</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a576a9928e19e84b86ee169856dcf8bd5">NO_OVERWRITE</a>=atol(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;NO_OVERWRITE&quot;</span>));</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;CONCAT&quot;</span>)){</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a04a1e6004626dd3ea784f96986dcd622">CONCAT</a>=atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;CONCAT&quot;</span>));</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;PUT4KPERFILE&quot;</span>)){</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">PUT4KPERFILE</a> = dev-&gt;<a class="code" href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">maxlen</a>/1024;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;PUT4KPERFILE maxlen %x&quot;</span>, dev-&gt;<a class="code" href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">maxlen</a>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;OUTPUT_META&quot;</span>)){</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="rtm-t-stream-disk_8cpp.html#a32d8a635c7a7dad6934c3f5cbf52e0b6">OUTPUT_META</a> = atoi(<a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;OUTPUT_META&quot;</span>));</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    setvbuf(stdout, 0, _IOLBF, 0);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordtype">char</span>* monitor;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">if</span> ((monitor = <a class="code" href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a>(<span class="stringliteral">&quot;KILL_ON_STOP&quot;</span>)) != 0){</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        run_stop_monitor(monitor);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a> = dev-&gt;<a class="code" href="classRTM__T__Device.html#aa727fdfd481e197e1823711196f4aaa7">transfer_buffers</a>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (argc &gt; 1){</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordtype">unsigned</span> tb = strtoul(argv[1], 0, 0);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> (tb &gt; 0){</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a> = tb;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="local_8h.html#abdc0ddb6c825c951cdc8e45b53459445">err</a>(<span class="stringliteral">&quot;stream-disk [NBUFFERS]&quot;</span>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a>(<span class="stringliteral">&quot;streaming %u buffers&quot;</span>, <a class="code" href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;}</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="rtm-t-stream-disk_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">  531</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="rtm-t-stream-disk_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    init_defaults(argc, argv);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> stream();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a3ef6c2163156fa9576d106b3b2874a7d"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a3ef6c2163156fa9576d106b3b2874a7d">RECYCLE</a></div><div class="ttdeci">int RECYCLE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00078">rtm-t-stream-disk.cpp:78</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a576a9928e19e84b86ee169856dcf8bd5"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a576a9928e19e84b86ee169856dcf8bd5">NO_OVERWRITE</a></div><div class="ttdeci">int NO_OVERWRITE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00079">rtm-t-stream-disk.cpp:79</a></div></div>
<div class="ttc" id="aclassInlineDataHandler_html_a585bdd3226a6771ec94ca6ee9d2a488d"><div class="ttname"><a href="classInlineDataHandler.html#a585bdd3226a6771ec94ca6ee9d2a488d">InlineDataHandler::handleBuffer</a></div><div class="ttdeci">virtual void handleBuffer(int ibuf, const void *src, int len)</div><div class="ttdef"><b>Definition:</b> <a href="InlineDataHandler_8h_source.html#l00019">InlineDataHandler.h:19</a></div></div>
<div class="ttc" id="aInlineDataHandler_8h_html"><div class="ttname"><a href="InlineDataHandler_8h.html">InlineDataHandler.h</a></div></div>
<div class="ttc" id="astructSEQ_html_a4bfa0a76367f7fa9baf9f975184ff473"><div class="ttname"><a href="structSEQ.html#a4bfa0a76367f7fa9baf9f975184ff473">SEQ::errors</a></div><div class="ttdeci">unsigned long errors</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00089">rtm-t-stream-disk.cpp:89</a></div></div>
<div class="ttc" id="aclassInlineDataHandler_html_ab9c70282b05673bee67b774238287016"><div class="ttname"><a href="classInlineDataHandler.html#ab9c70282b05673bee67b774238287016">InlineDataHandler::factory</a></div><div class="ttdeci">static InlineDataHandler * factory(RTM_T_Device *ai_dev)</div><div class="ttdef"><b>Definition:</b> <a href="InlineDataHandler_8cpp_source.html#l00020">InlineDataHandler.cpp:20</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_ac2646c00606a92c624fd5e8b2bb526ab"><div class="ttname"><a href="rtm-t__ioctl_8h.html#ac2646c00606a92c624fd5e8b2bb526ab">SBDSZ</a></div><div class="ttdeci">#define SBDSZ</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00128">rtm-t_ioctl.h:127</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a3191f2f7156f4c88af45dcef88b36abc"><div class="ttname"><a href="classRTM__T__Device.html#a3191f2f7156f4c88af45dcef88b36abc">RTM_T_Device::nbuffers</a></div><div class="ttdeci">const unsigned nbuffers</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00045">RTM_T_Device.h:45</a></div></div>
<div class="ttc" id="aSTREAM_2local_8h_html"><div class="ttname"><a href="STREAM_2local_8h.html">local.h</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a68581a1c7de63f6e4f7ca8d4e3210d50"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a68581a1c7de63f6e4f7ca8d4e3210d50">PUT_DATA</a></div><div class="ttdeci">int PUT_DATA</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00083">rtm-t-stream-disk.cpp:83</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a0c4c3aca22bdf81788601d5408ffdcc1"><div class="ttname"><a href="classRTM__T__Device.html#a0c4c3aca22bdf81788601d5408ffdcc1">RTM_T_Device::getHostBufferMapping</a></div><div class="ttdeci">const void * getHostBufferMapping(int ibuf=0)</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00062">RTM_T_Device.h:62</a></div></div>
<div class="ttc" id="alocal_8h_html_a5094de7714b01dcdf0b22c03d00becaf"><div class="ttname"><a href="local_8h.html#a5094de7714b01dcdf0b22c03d00becaf">info</a></div><div class="ttdeci">#define info(format, arg...)</div><div class="ttdef"><b>Definition:</b> <a href="local_8h_source.html#l00119">local.h:118</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a0a2d59880bbb20fd6d770084cb2cfa2c"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a0a2d59880bbb20fd6d770084cb2cfa2c">acq200_debug</a></div><div class="ttdeci">int acq200_debug</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00070">rtm-t-stream-disk.cpp:70</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_ac807e65b8c2cf0d924823993c5d3e99d"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#ac807e65b8c2cf0d924823993c5d3e99d">PERM</a></div><div class="ttdeci">#define PERM</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00151">rtm-t-stream-disk.cpp:150</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_a648e8c1d61f2a73f3937cbb49f6ce461"><div class="ttname"><a href="rtm-t__ioctl_8h.html#a648e8c1d61f2a73f3937cbb49f6ce461">IBUF_IBUF</a></div><div class="ttdeci">#define IBUF_IBUF</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00126">rtm-t_ioctl.h:125</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_ab7a491c99e8480baa78b2f4bd8343e12"><div class="ttname"><a href="rtm-t__ioctl_8h.html#ab7a491c99e8480baa78b2f4bd8343e12">IBUF_IDX_SHL</a></div><div class="ttdeci">#define IBUF_IDX_SHL</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00125">rtm-t_ioctl.h:124</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_af6155880753803e9c32a95bd93a1c2c8"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#af6155880753803e9c32a95bd93a1c2c8">WRITE_LEN</a></div><div class="ttdeci">int WRITE_LEN</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00081">rtm-t-stream-disk.cpp:81</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a272a80d2c512d1d3e9951486ea6f5aa5"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a272a80d2c512d1d3e9951486ea6f5aa5">MAXITER_MASK</a></div><div class="ttdeci">int MAXITER_MASK</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00060">rtm-t-stream-disk.cpp:60</a></div></div>
<div class="ttc" id="astructStreamBufferDef_html_aebcf8d4da8b8b3782d262415a350fc65"><div class="ttname"><a href="structStreamBufferDef.html#aebcf8d4da8b8b3782d262415a350fc65">StreamBufferDef::ibuf</a></div><div class="ttdeci">u32 ibuf</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00118">rtm-t_ioctl.h:118</a></div></div>
<div class="ttc" id="astructSEQ_html_ae8132f5286cb3472436a16492fbcd6d7"><div class="ttname"><a href="structSEQ.html#ae8132f5286cb3472436a16492fbcd6d7">SEQ::buffers</a></div><div class="ttdeci">unsigned long buffers</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00090">rtm-t-stream-disk.cpp:90</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a46b27cc7224a58a112f4ce6dc1731166"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a46b27cc7224a58a112f4ce6dc1731166">OUTROOT</a></div><div class="ttdeci">const char * OUTROOT</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00072">rtm-t-stream-disk.cpp:72</a></div></div>
<div class="ttc" id="aclassInlineDataHandler_html"><div class="ttname"><a href="classInlineDataHandler.html">InlineDataHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="InlineDataHandler_8h_source.html#l00013">InlineDataHandler.h:13</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a87343bc95caf90105815c0552818fae7"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a87343bc95caf90105815c0552818fae7">outfp</a></div><div class="ttdeci">int outfp</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00153">rtm-t-stream-disk.cpp:153</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a7e7649c1f4eb3539b814bc44292556b5"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a7e7649c1f4eb3539b814bc44292556b5">SSIZE</a></div><div class="ttdeci">int SSIZE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00068">rtm-t-stream-disk.cpp:68</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a9590bb5d5810093f36114720fda86ddc"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a9590bb5d5810093f36114720fda86ddc">OUTFMT2</a></div><div class="ttdeci">#define OUTFMT2</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00157">rtm-t-stream-disk.cpp:156</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_a0d30bf4b97e037f302faa0fddeff3810"><div class="ttname"><a href="rtm-t__ioctl_8h.html#a0d30bf4b97e037f302faa0fddeff3810">ESTA_CRC</a></div><div class="ttdeci">#define ESTA_CRC</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00127">rtm-t_ioctl.h:126</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a33b9bc1e6474c6269ce22121074933fd"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a33b9bc1e6474c6269ce22121074933fd">outfmt</a></div><div class="ttdeci">const char * outfmt</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00159">rtm-t-stream-disk.cpp:159</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a65e3b8c646829574ef3a34897552d6d7"><div class="ttname"><a href="classRTM__T__Device.html#a65e3b8c646829574ef3a34897552d6d7">RTM_T_Device::getDevnum</a></div><div class="ttdeci">int getDevnum(void) const</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00072">RTM_T_Device.h:72</a></div></div>
<div class="ttc" id="astructSEQ_html"><div class="ttname"><a href="structSEQ.html">SEQ</a></div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00088">rtm-t-stream-disk.cpp:88</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a67019d9f7242892c44b8a29d4cf44ab6"><div class="ttname"><a href="classRTM__T__Device.html#a67019d9f7242892c44b8a29d4cf44ab6">RTM_T_Device::maxlen</a></div><div class="ttdeci">const unsigned maxlen</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00046">RTM_T_Device.h:46</a></div></div>
<div class="ttc" id="aclassHisto_html_adc04a8e0080b3eff64ebddbd6d81dd86"><div class="ttname"><a href="classHisto.html#adc04a8e0080b3eff64ebddbd6d81dd86">Histo::operator()</a></div><div class="ttdeci">unsigned operator()(unsigned bin)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00194">rtm-t-stream-disk.cpp:194</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a082c8926d32f392f792311e8b06ffdbb"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a082c8926d32f392f792311e8b06ffdbb">hostname</a></div><div class="ttdeci">const char * hostname()</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00170">rtm-t-stream-disk.cpp:170</a></div></div>
<div class="ttc" id="astructStreamBufferDef_html_adfe82ebd5f796f482951be6568f0f824"><div class="ttname"><a href="structStreamBufferDef.html#adfe82ebd5f796f482951be6568f0f824">StreamBufferDef::esta</a></div><div class="ttdeci">u32 esta</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00119">rtm-t_ioctl.h:119</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_abb9bab76828a04f4226921f44e1608e6"><div class="ttname"><a href="rtm-t__ioctl_8h.html#abb9bab76828a04f4226921f44e1608e6">RTM_T_START_STREAM_MAX</a></div><div class="ttdeci">#define RTM_T_START_STREAM_MAX</div><div class="ttdoc">ioctl Start High Throughput Streaming specify max buffers.</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00087">rtm-t_ioctl.h:85</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a22c7acd623faa9ba543bf0925dc86fa1"><div class="ttname"><a href="classRTM__T__Device.html#a22c7acd623faa9ba543bf0925dc86fa1">RTM_T_Device::getDeviceHandle</a></div><div class="ttdeci">const int getDeviceHandle(void)</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00056">RTM_T_Device.h:56</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a11702c8164eb119001554eb15f87750e"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a11702c8164eb119001554eb15f87750e">OUTFMT3</a></div><div class="ttdeci">#define OUTFMT3</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00158">rtm-t-stream-disk.cpp:157</a></div></div>
<div class="ttc" id="aclassHisto_html_a1948db12f05f8728c43694f42ed07149"><div class="ttname"><a href="classHisto.html#a1948db12f05f8728c43694f42ed07149">Histo::print</a></div><div class="ttdeci">void print()</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00189">rtm-t-stream-disk.cpp:189</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html"><div class="ttname"><a href="rtm-t__ioctl_8h.html">rtm-t_ioctl.h</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a7ba326b3b965789e33765b6d8b15499c"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a7ba326b3b965789e33765b6d8b15499c">getBufNo</a></div><div class="ttdeci">int getBufNo(StreamBufferDef *sbd)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00325">rtm-t-stream-disk.cpp:325</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_ae66e1d9a72fa03b94d82955c2fa497dc"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#ae66e1d9a72fa03b94d82955c2fa497dc">NBUFS</a></div><div class="ttdeci">int NBUFS</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00084">rtm-t-stream-disk.cpp:84</a></div></div>
<div class="ttc" id="alocal_8h_html_abdc0ddb6c825c951cdc8e45b53459445"><div class="ttname"><a href="local_8h.html#abdc0ddb6c825c951cdc8e45b53459445">err</a></div><div class="ttdeci">#define err(format, arg...)</div><div class="ttdef"><b>Definition:</b> <a href="local_8h_source.html#l00122">local.h:121</a></div></div>
<div class="ttc" id="aInlineDataHandlerMuxAO__LLC_8cpp_html_a264d7907938e52414f6007ea28c2d0c9"><div class="ttname"><a href="InlineDataHandlerMuxAO__LLC_8cpp.html#a264d7907938e52414f6007ea28c2d0c9">ib</a></div><div class="ttdeci">int ib</div><div class="ttdef"><b>Definition:</b> <a href="InlineDataHandlerMuxAO__LLC_8cpp_source.html#l00057">InlineDataHandlerMuxAO_LLC.cpp:57</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a4830d21c263494fc0593d8169b5fe193"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a4830d21c263494fc0593d8169b5fe193">buf4k</a></div><div class="ttdeci">char buf4k[4096]</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00161">rtm-t-stream-disk.cpp:161</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_aad5395594178d99684d6f505287de9b7"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#aad5395594178d99684d6f505287de9b7">DIAG</a></div><div class="ttdeci">#define DIAG(args...)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00056">rtm-t-stream-disk.cpp:55</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_af78bbf45178417f97fd78253ee4441c7"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#af78bbf45178417f97fd78253ee4441c7">NELEMS</a></div><div class="ttdeci">int NELEMS</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00063">rtm-t-stream-disk.cpp:63</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_a41d9e7d5e9cb61933ca734fe65738082ae455e6f97b8d4d65662af61e31ba7c0a"><div class="ttname"><a href="classRTM__T__Device.html#a41d9e7d5e9cb61933ca734fe65738082ae455e6f97b8d4d65662af61e31ba7c0a">RTM_T_Device::MAXBUF</a></div><div class="ttdeci">@ MAXBUF</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00081">RTM_T_Device.h:80</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a487a737cd1ca567b2c514182514b424e"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a487a737cd1ca567b2c514182514b424e">fail_if_exists</a></div><div class="ttdeci">void fail_if_exists(char *buf)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00132">rtm-t-stream-disk.cpp:132</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_a8c97b390b5ee2b9b369591b183b0a1f1"><div class="ttname"><a href="rtm-t__ioctl_8h.html#a8c97b390b5ee2b9b369591b183b0a1f1">IBUF_IDX</a></div><div class="ttdeci">#define IBUF_IDX</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00124">rtm-t_ioctl.h:123</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a119c5d2fb10003303aafd381fe180253"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a119c5d2fb10003303aafd381fe180253">MAXITER</a></div><div class="ttdeci">int MAXITER</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00059">rtm-t-stream-disk.cpp:59</a></div></div>
<div class="ttc" id="anamespacertm-t-stream_html_aa9560f265c21198e31afe3be3e7d4d40"><div class="ttname"><a href="namespacertm-t-stream.html#aa9560f265c21198e31afe3be3e7d4d40">rtm-t-stream.stream</a></div><div class="ttdeci">stream</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream_8py_source.html#l00044">rtm-t-stream.py:44</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_acb46bad64561473c98da36c1fa18b543"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#acb46bad64561473c98da36c1fa18b543">MAXINT</a></div><div class="ttdeci">int MAXINT</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00082">rtm-t-stream-disk.cpp:82</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_adbe3db551fa20385d8b1698e43762451"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#adbe3db551fa20385d8b1698e43762451">USLEEP</a></div><div class="ttdeci">int USLEEP</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00064">rtm-t-stream-disk.cpp:64</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a7c080f4cd28e58c2e6e2d5ad34542226"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a7c080f4cd28e58c2e6e2d5ad34542226">WRITE_LEN_ALL</a></div><div class="ttdeci">#define WRITE_LEN_ALL</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00081">rtm-t-stream-disk.cpp:80</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a2acf67c26c54f9266d7be11d7ca66f82"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a2acf67c26c54f9266d7be11d7ca66f82">MAXHN</a></div><div class="ttdeci">#define MAXHN</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00170">rtm-t-stream-disk.cpp:169</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00531">rtm-t-stream-disk.cpp:531</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a6ca75f4f222408d3dc04d1ec934fa7d0"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a6ca75f4f222408d3dc04d1ec934fa7d0">setRtPrio</a></div><div class="ttdeci">void setRtPrio(int prio)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00431">rtm-t-stream-disk.cpp:431</a></div></div>
<div class="ttc" id="aclassHisto_html"><div class="ttname"><a href="classHisto.html">Histo</a></div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00177">rtm-t-stream-disk.cpp:177</a></div></div>
<div class="ttc" id="alocal_8h_html_aa91fbb7a1131706ff77fe51dd9903199"><div class="ttname"><a href="local_8h.html#aa91fbb7a1131706ff77fe51dd9903199">dbg</a></div><div class="ttdeci">#define dbg(lvl, format, arg...)</div><div class="ttdef"><b>Definition:</b> <a href="local_8h_source.html#l00125">local.h:124</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_af06d831c8136d9b1ae591b4dc96a4aac"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#af06d831c8136d9b1ae591b4dc96a4aac">icat</a></div><div class="ttdeci">int icat</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00152">rtm-t-stream-disk.cpp:152</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html_aa727fdfd481e197e1823711196f4aaa7"><div class="ttname"><a href="classRTM__T__Device.html#aa727fdfd481e197e1823711196f4aaa7">RTM_T_Device::transfer_buffers</a></div><div class="ttdeci">const unsigned transfer_buffers</div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00047">RTM_T_Device.h:47</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a21cd1ed4d48be94fa6820b1b9818ff8d"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a21cd1ed4d48be94fa6820b1b9818ff8d">transfer_buffers</a></div><div class="ttdeci">unsigned transfer_buffers</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00095">rtm-t-stream-disk.cpp:95</a></div></div>
<div class="ttc" id="aRTM__T__Device_8h_html"><div class="ttname"><a href="RTM__T__Device_8h.html">RTM_T_Device.h</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_ab848ce91ba14d3dc5c87d0b42f3a1c0d"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#ab848ce91ba14d3dc5c87d0b42f3a1c0d">VERBOSE</a></div><div class="ttdeci">int VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00065">rtm-t-stream-disk.cpp:65</a></div></div>
<div class="ttc" id="aclassRTM__T__Device_html"><div class="ttname"><a href="classRTM__T__Device.html">RTM_T_Device</a></div><div class="ttdef"><b>Definition:</b> <a href="RTM__T__Device_8h_source.html#l00017">RTM_T_Device.h:17</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a165b90233bae10ec3d25c3e1ad29943e"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a165b90233bae10ec3d25c3e1ad29943e">CYCLE</a></div><div class="ttdeci">int CYCLE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00077">rtm-t-stream-disk.cpp:77</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_af0941a6c2a5692c0cf453b134692fcda"><div class="ttname"><a href="rtm-t__ioctl_8h.html#af0941a6c2a5692c0cf453b134692fcda">IBUF_MAGIC_MASK</a></div><div class="ttdeci">#define IBUF_MAGIC_MASK</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00123">rtm-t_ioctl.h:122</a></div></div>
<div class="ttc" id="aacqproc_8cpp_html_a2abda385c203496976e3fe00bad0cef1"><div class="ttname"><a href="acqproc_8cpp.html#a2abda385c203496976e3fe00bad0cef1">getenv</a></div><div class="ttdeci">int getenv(const char *key, int def, int(*cvt)(const char *key))</div><div class="ttdef"><b>Definition:</b> <a href="acqproc_8cpp_source.html#l00023">acqproc.cpp:23</a></div></div>
<div class="ttc" id="astructStreamBufferDef_html"><div class="ttname"><a href="structStreamBufferDef.html">StreamBufferDef</a></div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00117">rtm-t_ioctl.h:117</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a04a1e6004626dd3ea784f96986dcd622"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a04a1e6004626dd3ea784f96986dcd622">CONCAT</a></div><div class="ttdeci">int CONCAT</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00066">rtm-t-stream-disk.cpp:66</a></div></div>
<div class="ttc" id="anamespaceG_html_a905277e37deb267c650d895144633e72"><div class="ttname"><a href="namespaceG.html#a905277e37deb267c650d895144633e72">G::nsamples</a></div><div class="ttdeci">int nsamples</div><div class="ttdoc">samples to capture (default:2, typ 200000)</div><div class="ttdef"><b>Definition:</b> <a href="acqproc_8cpp_source.html#l00038">acqproc.cpp:38</a></div></div>
<div class="ttc" id="artm-t__ioctl_8h_html_abfe199ab45deb75175115f684839a4db"><div class="ttname"><a href="rtm-t__ioctl_8h.html#abfe199ab45deb75175115f684839a4db">IBUF_MAGIC</a></div><div class="ttdeci">#define IBUF_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t__ioctl_8h_source.html#l00122">rtm-t_ioctl.h:121</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a32d8a635c7a7dad6934c3f5cbf52e0b6"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a32d8a635c7a7dad6934c3f5cbf52e0b6">OUTPUT_META</a></div><div class="ttdeci">int OUTPUT_META</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00086">rtm-t-stream-disk.cpp:86</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_aa10b6e2b3382511e49d56239e18da33d"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#aa10b6e2b3382511e49d56239e18da33d">O_MODE</a></div><div class="ttdeci">#define O_MODE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00150">rtm-t-stream-disk.cpp:149</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a1aa114e93834d2c3da2ba0215b51d6fe"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a1aa114e93834d2c3da2ba0215b51d6fe">OUTROOTFMT</a></div><div class="ttdeci">#define OUTROOTFMT</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00156">rtm-t-stream-disk.cpp:155</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a66afaf9a6aee22e6e47bf3622138d5f9"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a66afaf9a6aee22e6e47bf3622138d5f9">succ</a></div><div class="ttdeci">int succ(int ib)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00164">rtm-t-stream-disk.cpp:164</a></div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a804985ef1a989863dc8691520b62dd7c"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a804985ef1a989863dc8691520b62dd7c">SEQ</a></div><div class="ttdeci">struct SEQ SEQ</div></div>
<div class="ttc" id="artm-t-stream-disk_8cpp_html_a76538369b558060e2e1d4befe959a974"><div class="ttname"><a href="rtm-t-stream-disk_8cpp.html#a76538369b558060e2e1d4befe959a974">PUT4KPERFILE</a></div><div class="ttdeci">int PUT4KPERFILE</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00085">rtm-t-stream-disk.cpp:85</a></div></div>
<div class="ttc" id="aclassHisto_html_a9fbda5a4785b074eadafaae9305a7579"><div class="ttname"><a href="classHisto.html#a9fbda5a4785b074eadafaae9305a7579">Histo::Histo</a></div><div class="ttdeci">Histo(int _maxbins=NELEMS)</div><div class="ttdef"><b>Definition:</b> <a href="rtm-t-stream-disk_8cpp_source.html#l00181">rtm-t-stream-disk.cpp:181</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
